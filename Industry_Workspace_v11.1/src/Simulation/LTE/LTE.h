/************************************************************************************
 * Copyright (C) 2014
 * TETCOS, Bangalore. India															*

 * Tetcos owns the intellectual property rights in the Product and its content.     *
 * The copying, redistribution, reselling or publication of any or all of the       *
 * Product or its content without express prior written consent of Tetcos is        *
 * prohibited. Ownership and / or any other right relating to the software and all  *
 * intellectual property rights therein shall remain at all times with Tetcos.      *
 * Author:	Shashi Kant Suman														*
 * ---------------------------------------------------------------------------------*/
#ifndef _NETSIM_LTE_H_
#define _NETSIM_LTE_H_
//For MSVC compiler. For GCC link via Linker command 
#pragma comment(lib,"LTE.lib")
#pragma comment(lib,"Metrics.lib")
#pragma comment(lib,"NetworkStack.lib")
#pragma comment(lib,"Mobility.lib")
#pragma comment(lib,"PropagationModel.lib")

#include "List.h"

#ifdef  __cplusplus
extern "C" {
#endif
#include "LTE_enum.h"
#include "PDCP.h"
#include "CA.h"
#include "MIMO.h"

/***** Default Config Parameter ****/
#define LTE_TX_POWER_DEFAULT				20		//mw
#define LTE_TX_ANTENNAS_COUNT_DEFAULT		1
#define LTE_RX_ANTENNAS_COUNT_DEFAULT		1
#define LTE_TRANSMISSION_MODE_DEFAULT		0       
#define LTE_CHANNEL_BANDWIDTH_DEFAULT		20		//MHz
#define LTE_FRAME_DURATION_DEFAULT			10		//ms
#define LTE_SUB_FRAME_DURATION_DEFAULT		1		//ms
#define LTE_SLOT_DURATION_DEFAULT			0.5		//ms
#define LTE_SUB_CARRIER_SPACING_DEFAULT		15		//kHz
#define LTE_SAMPLING_FREQUENCY_DEFAULT		30.72	//MHz
#define LTE_FFT_SIZE_DEFAULT				2048	
#define LTE_OCCUPIED_SUBCARRIER_DEFAULT		1201	
#define LTE_GUARD_SUBCARRIER_DEFAULT		847
#define LTE_OFDM_SYMBOL_PER_SLOT_DEFAULT	7
#define LTE_RESOURCE_BLOCK_COUNT_DEFAULT	100
#define LTE_DUPLEX_SCHEME_DEFAULT			_strdup("FDD")
#define LTE_DL_ACCESS_SCHEME_DEFAULT		_strdup("OFDMA")
#define LTE_UL_ACCESS_SCHEME_DEFAULT		_strdup("SC-FDMA")
#define LTE_MODULATION_DEFAULT				_strdup("64QAM")
#define LTE_SCHEDULING_DEFAULT				_strdup("ROUND_ROBIN")

//Advance LTE
#define LTE_A_CA_COUNT_DEFAULT				1
#define LTE_A_CA_TYPE_DEFAULT				_strdup("INTRA_BAND_CONTIGUOUS_CA")
#define LTE_A_CA_CONFIGURATION_DEFAULT		_strdup("CA_1C")

//D2D
#define LTE_D2D_ENABLE_DEFAULT				false


#define MAX_HARQ_PROCESS 8
#define TARGET_BER 1.0e-5

	/**** Structure typedefs *****/
	typedef struct stru_LTE_ENB_Phy							LTE_ENB_PHY;
	typedef struct stru_LTE_UE_Phy							LTE_UE_PHY;
	typedef struct stru_LTE_ENB_MAC							LTE_ENB_MAC;
	typedef struct stru_LTE_UE_MAC							LTE_UE_MAC;
	typedef struct stru_LTE_AssociateUEInfo					LTE_ASSOCIATEUE_INFO;
	typedef struct stru_LTE_Queue							LTE_QUEUE;
	typedef struct stru_LTE_Mac_Packet						LTE_MAC_PACKET;
	typedef struct stru_LTE_Phy_Packet						LTE_PHY_PACKET;
	typedef struct stru_LTE_RRC_Connection_Request			RRC_CONNECTION_REQUEST;
	typedef struct stru_LTE_RRC_Connection_Setup			RRC_CONNECTION_SETUP;
	typedef struct stru_LTE_RRC_Connection_Setup_Complete	RRC_CONNECTION_SETUP_COMPLETE;
	typedef struct stru_LTE_PDCP_Header						LTE_PDCP_HEADER;
	typedef struct stru_LTE_MME_HLR							LTE_HLR;
	typedef struct stru_LTE_MME								LTE_MME;
	typedef struct stru_LTE_MeasurementReport				LTE_MEASUREMENT_REPORT;
	typedef struct stru_LTE_HOInfo							LTE_HO_INFO;
	typedef struct stru_LTE_Metrics							LTE_METRICS;
	typedef struct stru_LTE_ACK								LTE_ACK;

	 
	/* 3GPP TS 36.213
	 *	7.1.7.2.1 Transport blocks not mapped to two or more layer spatial multiplexing 
	 *	For 110 1≤ NPRB ≤ , the TBS is given by the ( TBS I ,NPRB ) entry of Table 7.1.7.2.1-1. 
	 *	
	 *	Table 7.1.7.2.1-1: Transport block size table (dimension 27×110)
	 */
#define LTE_TBS_INDEX_MAX	27
#define LTE_NRB_MAX			110

static const unsigned int TransportBlockSize1[LTE_TBS_INDEX_MAX][LTE_NRB_MAX]=
{
/*
 1       2       3       4       5       6       7       8       9       10      11      12      13      14      15      16      17      18      19      20      21      22      23      24      25      26      27      28      29      30      31      32      33      34      35      36      37      38      39      40      41      42      43      44      45      46      47      48      49      50      51      52      53      54      55      56      57      58      59      60      61      62      63      64      65      66      67      68      69      70      71      72      73      74      75      76      77      78      79      80      81      82      83      84      85      86      87      88      89      90      91      92      93      94      95      96      97      98      99      100     101     102     103     104     105     106     107     108     109     
*/
{16,     32,     56,     88,     120,    152,    176,    208,    224,    256,    288,    328,    344,    376,    392,    424,    456,    488,    504,    536,    568,    600,    616,    648,    680,    712,    744,    776,    776,    808,    840,    872,    904,    936,    968,    1000,   1032,   1032,   1064,   1096,   1128,   1160,   1192,   1224,   1256,   1256,   1288,   1320,   1352,   1384,   1416,   1416,   1480,   1480,   1544,   1544,   1608,   1608,   1608,   1672,   1672,   1736,   1736,   1800,   1800,   1800,   1864,   1864,   1928,   1928,   1992,   1992,   2024,   2088,   2088,   2088,   2152,   2152,   2216,   2216,   2280,   2280,   2280,   2344,   2344,   2408,   2408,   2472,   2472,   2536,   2536,   2536,   2600,   2600,   2664,   2664,   2728,   2728,   2728,   2792,   2792,   2856,   2856,   2856,   2984,   2984,   2984,   2984,   2984,   3112,   },
{24,     56,     88,     144,    176,    208,    224,    256,    328,    344,    376,    424,    456,    488,    520,    568,    600,    632,    680,    712,    744,    776,    808,    872,    904,    936,    968,    1000,   1032,   1064,   1128,   1160,   1192,   1224,   1256,   1288,   1352,   1384,   1416,   1416,   1480,   1544,   1544,   1608,   1608,   1672,   1736,   1736,   1800,   1800,   1864,   1864,   1928,   1992,   1992,   2024,   2088,   2088,   2152,   2152,   2216,   2280,   2280,   2344,   2344,   2408,   2472,   2472,   2536,   2536,   2600,   2600,   2664,   2728,   2728,   2792,   2792,   2856,   2856,   2856,   2984,   2984,   2984,   3112,   3112,   3112,   3240,   3240,   3240,   3240,   3368,   3368,   3368,   3496,   3496,   3496,   3496,   3624,   3624,   3624,   3752,   3752,   3752,   3752,   3880,   3880,   3880,   4008,   4008,   4008,   },
{32,     72,     144,    176,    208,    256,    296,    328,    376,    424,    472,    520,    568,    616,    648,    696,    744,    776,    840,    872,    936,    968,    1000,   1064,   1096,   1160,   1192,   1256,   1288,   1320,   1384,   1416,   1480,   1544,   1544,   1608,   1672,   1672,   1736,   1800,   1800,   1864,   1928,   1992,   2024,   2088,   2088,   2152,   2216,   2216,   2280,   2344,   2344,   2408,   2472,   2536,   2536,   2600,   2664,   2664,   2728,   2792,   2856,   2856,   2856,   2984,   2984,   3112,   3112,   3112,   3240,   3240,   3240,   3368,   3368,   3368,   3496,   3496,   3496,   3624,   3624,   3624,   3752,   3752,   3880,   3880,   3880,   4008,   4008,   4008,   4136,   4136,   4136,   4264,   4264,   4264,   4392,   4392,   4392,   4584,   4584,   4584,   4584,   4584,   4776,   4776,   4776,   4776,   4968,   4968,   },
{40,     104,    176,    208,    256,    328,    392,    440,    504,    568,    616,    680,    744,    808,    872,    904,    968,    1032,   1096,   1160,   1224,   1256,   1320,   1384,   1416,   1480,   1544,   1608,   1672,   1736,   1800,   1864,   1928,   1992,   2024,   2088,   2152,   2216,   2280,   2344,   2408,   2472,   2536,   2536,   2600,   2664,   2728,   2792,   2856,   2856,   2984,   2984,   3112,   3112,   3240,   3240,   3368,   3368,   3496,   3496,   3624,   3624,   3624,   3752,   3752,   3880,   3880,   4008,   4008,   4136,   4136,   4264,   4264,   4392,   4392,   4392,   4584,   4584,   4584,   4776,   4776,   4776,   4776,   4968,   4968,   4968,   5160,   5160,   5160,   5352,   5352,   5352,   5352,   5544,   5544,   5544,   5736,   5736,   5736,   5736,   5992,   5992,   5992,   5992,   6200,   6200,   6200,   6200,   6456,   6456,   },
{56,     120,    208,    256,    328,    408,    488,    552,    632,    696,    776,    840,    904,    1000,   1064,   1128,   1192,   1288,   1352,   1416,   1480,   1544,   1608,   1736,   1800,   1864,   1928,   1992,   2088,   2152,   2216,   2280,   2344,   2408,   2472,   2600,   2664,   2728,   2792,   2856,   2984,   2984,   3112,   3112,   3240,   3240,   3368,   3496,   3496,   3624,   3624,   3752,   3752,   3880,   4008,   4008,   4136,   4136,   4264,   4264,   4392,   4392,   4584,   4584,   4584,   4776,   4776,   4968,   4968,   4968,   5160,   5160,   5160,   5352,   5352,   5544,   5544,   5544,   5736,   5736,   5736,   5992,   5992,   5992,   5992,   6200,   6200,   6200,   6456,   6456,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7480,   7480,   7736,   7736,   7736,   7992,   },
{72,     144,    224,    328,    424,    504,    600,    680,    776,    872,    968,    1032,   1128,   1224,   1320,   1384,   1480,   1544,   1672,   1736,   1864,   1928,   2024,   2088,   2216,   2280,   2344,   2472,   2536,   2664,   2728,   2792,   2856,   2984,   3112,   3112,   3240,   3368,   3496,   3496,   3624,   3752,   3752,   3880,   4008,   4008,   4136,   4264,   4392,   4392,   4584,   4584,   4776,   4776,   4776,   4968,   4968,   5160,   5160,   5352,   5352,   5544,   5544,   5736,   5736,   5736,   5992,   5992,   5992,   6200,   6200,   6200,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7480,   7736,   7736,   7736,   7992,   7992,   7992,   8248,   8248,   8248,   8504,   8504,   8760,   8760,   8760,   8760,   9144,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9528,   },
{88,     176,    256,    392,    504,    600,    712,    808,    936,    1032,   1128,   1224,   1352,   1480,   1544,   1672,   1736,   1864,   1992,   2088,   2216,   2280,   2408,   2472,   2600,   2728,   2792,   2984,   2984,   3112,   3240,   3368,   3496,   3496,   3624,   3752,   3880,   4008,   4136,   4136,   4264,   4392,   4584,   4584,   4776,   4776,   4968,   4968,   5160,   5160,   5352,   5352,   5544,   5736,   5736,   5992,   5992,   5992,   6200,   6200,   6456,   6456,   6456,   6712,   6712,   6968,   6968,   6968,   7224,   7224,   7480,   7480,   7736,   7736,   7736,   7992,   7992,   8248,   8248,   8248,   8504,   8504,   8760,   8760,   8760,   9144,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10296,  10680,  10680,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11448,  },
{104,    224,    328,    472,    584,    712,    840,    968,    1096,   1224,   1320,   1480,   1608,   1672,   1800,   1928,   2088,   2216,   2344,   2472,   2536,   2664,   2792,   2984,   3112,   3240,   3368,   3368,   3496,   3624,   3752,   3880,   4008,   4136,   4264,   4392,   4584,   4584,   4776,   4968,   4968,   5160,   5352,   5352,   5544,   5736,   5736,   5992,   5992,   6200,   6200,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   7224,   7224,   7480,   7480,   7736,   7736,   7992,   7992,   8248,   8248,   8504,   8504,   8760,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10680,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11448,  11448,  11832,  11832,  11832,  12216,  12216,  12216,  12576,  12576,  12576,  12960,  12960,  12960,  12960,  13536,  13536,  },
{120,    256,    392,    536,    680,    808,    968,    1096,   1256,   1384,   1544,   1672,   1800,   1928,   2088,   2216,   2344,   2536,   2664,   2792,   2984,   3112,   3240,   3368,   3496,   3624,   3752,   3880,   4008,   4264,   4392,   4584,   4584,   4776,   4968,   4968,   5160,   5352,   5544,   5544,   5736,   5992,   5992,   6200,   6200,   6456,   6456,   6712,   6968,   6968,   7224,   7224,   7480,   7480,   7736,   7736,   7992,   7992,   8248,   8504,   8504,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10680,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  12216,  12216,  12216,  12576,  12576,  12576,  12960,  12960,  12960,  13536,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688,  14688,  14688,  15264,  15264,  15264,  15264,  },
{136,    296,    456,    616,    776,    936,    1096,   1256,   1416,   1544,   1736,   1864,   2024,   2216,   2344,   2536,   2664,   2856,   2984,   3112,   3368,   3496,   3624,   3752,   4008,   4136,   4264,   4392,   4584,   4776,   4968,   5160,   5160,   5352,   5544,   5736,   5736,   5992,   6200,   6200,   6456,   6712,   6712,   6968,   6968,   7224,   7480,   7480,   7736,   7992,   7992,   8248,   8248,   8504,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9912,   9912,   10296,  10296,  10296,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11832,  11832,  11832,  12216,  12216,  12576,  12576,  12960,  12960,  12960,  13536,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15264,  15840,  15840,  15840,  16416,  16416,  16416,  16416,  16992,  16992,  16992,  16992,  17568,  },
{144,    328,    504,    680,    872,    1032,   1224,   1384,   1544,   1736,   1928,   2088,   2280,   2472,   2664,   2792,   2984,   3112,   3368,   3496,   3752,   3880,   4008,   4264,   4392,   4584,   4776,   4968,   5160,   5352,   5544,   5736,   5736,   5992,   6200,   6200,   6456,   6712,   6712,   6968,   7224,   7480,   7480,   7736,   7992,   7992,   8248,   8504,   8504,   8760,   9144,   9144,   9144,   9528,   9528,   9912,   9912,   10296,  10296,  10680,  10680,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  12216,  12216,  12576,  12576,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  },
{176,    376,    584,    776,    1000,   1192,   1384,   1608,   1800,   2024,   2216,   2408,   2600,   2792,   2984,   3240,   3496,   3624,   3880,   4008,   4264,   4392,   4584,   4776,   4968,   5352,   5544,   5736,   5992,   5992,   6200,   6456,   6712,   6968,   6968,   7224,   7480,   7736,   7736,   7992,   8248,   8504,   8760,   8760,   9144,   9144,   9528,   9528,   9912,   9912,   10296,  10680,  10680,  11064,  11064,  11448,  11448,  11832,  11832,  12216,  12216,  12576,  12576,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15840,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  21384,  22152,  22152,  22152,  },
{208,    440,    680,    904,    1128,   1352,   1608,   1800,   2024,   2280,   2472,   2728,   2984,   3240,   3368,   3624,   3880,   4136,   4392,   4584,   4776,   4968,   5352,   5544,   5736,   5992,   6200,   6456,   6712,   6712,   6968,   7224,   7480,   7736,   7992,   8248,   8504,   8760,   8760,   9144,   9528,   9528,   9912,   9912,   10296,  10680,  10680,  11064,  11064,  11448,  11832,  11832,  12216,  12216,  12576,  12576,  12960,  12960,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  23688,  23688,  24496,  24496,  24496,  24496,  25456,  },
{224,    488,    744,    1000,   1256,   1544,   1800,   2024,   2280,   2536,   2856,   3112,   3368,   3624,   3880,   4136,   4392,   4584,   4968,   5160,   5352,   5736,   5992,   6200,   6456,   6712,   6968,   7224,   7480,   7736,   7992,   8248,   8504,   8760,   9144,   9144,   9528,   9912,   9912,   10296,  10680,  10680,  11064,  11448,  11448,  11832,  12216,  12216,  12576,  12960,  12960,  13536,  13536,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  16992,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  25456,  26416,  26416,  26416,  26416,  27376,  27376,  27376,  27376,  28336,  28336,  },
{256,    552,    840,    1128,   1416,   1736,   1992,   2280,   2600,   2856,   3112,   3496,   3752,   4008,   4264,   4584,   4968,   5160,   5544,   5736,   5992,   6200,   6456,   6968,   7224,   7480,   7736,   7992,   8248,   8504,   8760,   9144,   9528,   9912,   9912,   10296,  10680,  11064,  11064,  11448,  11832,  12216,  12216,  12576,  12960,  12960,  13536,  13536,  14112,  14112,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  },
{280,    600,    904,    1224,   1544,   1800,   2152,   2472,   2728,   3112,   3368,   3624,   4008,   4264,   4584,   4968,   5160,   5544,   5736,   6200,   6456,   6712,   6968,   7224,   7736,   7992,   8248,   8504,   8760,   9144,   9528,   9912,   10296,  10296,  10680,  11064,  11448,  11832,  11832,  12216,  12576,  12960,  12960,  13536,  13536,  14112,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  },
{328,    632,    968,    1288,   1608,   1928,   2280,   2600,   2984,   3240,   3624,   3880,   4264,   4584,   4968,   5160,   5544,   5992,   6200,   6456,   6712,   7224,   7480,   7736,   7992,   8504,   8760,   9144,   9528,   9912,   9912,   10296,  10680,  11064,  11448,  11832,  12216,  12216,  12576,  12960,  13536,  13536,  14112,  14112,  14688,  14688,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  18336,  18336,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  34008,  35160,  35160,  35160,  35160,  },
{336,    696,    1064,   1416,   1800,   2152,   2536,   2856,   3240,   3624,   4008,   4392,   4776,   5160,   5352,   5736,   6200,   6456,   6712,   7224,   7480,   7992,   8248,   8760,   9144,   9528,   9912,   10296,  10296,  10680,  11064,  11448,  11832,  12216,  12576,  12960,  13536,  13536,  14112,  14688,  14688,  15264,  15264,  15840,  16416,  16416,  16992,  17568,  17568,  18336,  18336,  19080,  19080,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  35160,  35160,  36696,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  39232,  },
{376,    776,    1160,   1544,   1992,   2344,   2792,   3112,   3624,   4008,   4392,   4776,   5160,   5544,   5992,   6200,   6712,   7224,   7480,   7992,   8248,   8760,   9144,   9528,   9912,   10296,  10680,  11064,  11448,  11832,  12216,  12576,  12960,  13536,  14112,  14112,  14688,  15264,  15264,  15840,  16416,  16416,  16992,  17568,  17568,  18336,  18336,  19080,  19080,  19848,  19848,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  },
{408,    840,    1288,   1736,   2152,   2600,   2984,   3496,   3880,   4264,   4776,   5160,   5544,   5992,   6456,   6968,   7224,   7736,   8248,   8504,   9144,   9528,   9912,   10296,  10680,  11064,  11448,  12216,  12576,  12960,  13536,  13536,  14112,  14688,  15264,  15264,  15840,  16416,  16992,  16992,  17568,  18336,  18336,  19080,  19080,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  25456,  25456,  26416,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  46888,  },
{440,    904,    1384,   1864,   2344,   2792,   3240,   3752,   4136,   4584,   5160,   5544,   5992,   6456,   6968,   7480,   7992,   8248,   8760,   9144,   9912,   10296,  10680,  11064,  11448,  12216,  12576,  12960,  13536,  14112,  14688,  14688,  15264,  15840,  16416,  16992,  16992,  17568,  18336,  18336,  19080,  19848,  19848,  20616,  20616,  21384,  22152,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  25456,  26416,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  46888,  48936,  48936,  48936,  48936,  48936,  51024,  51024,  51024,  },
{488,    1000,   1480,   1992,   2472,   2984,   3496,   4008,   4584,   4968,   5544,   5992,   6456,   6968,   7480,   7992,   8504,   9144,   9528,   9912,   10680,  11064,  11448,  12216,  12576,  12960,  13536,  14112,  14688,  15264,  15840,  15840,  16416,  16992,  17568,  18336,  18336,  19080,  19848,  19848,  20616,  21384,  21384,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  25456,  26416,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  46888,  48936,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  52752,  55056,  55056,  55056,  },
{520,    1064,   1608,   2152,   2664,   3240,   3752,   4264,   4776,   5352,   5992,   6456,   6968,   7480,   7992,   8504,   9144,   9528,   10296,  10680,  11448,  11832,  12576,  12960,  13536,  14112,  14688,  15264,  15840,  16416,  16992,  16992,  17568,  18336,  19080,  19080,  19848,  20616,  21384,  21384,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  25456,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  },
{552,    1128,   1736,   2280,   2856,   3496,   4008,   4584,   5160,   5736,   6200,   6968,   7480,   7992,   8504,   9144,   9912,   10296,  11064,  11448,  12216,  12576,  12960,  13536,  14112,  14688,  15264,  15840,  16416,  16992,  17568,  18336,  19080,  19848,  19848,  20616,  21384,  22152,  22152,  22920,  23688,  24496,  24496,  25456,  25456,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  },
{584,    1192,   1800,   2408,   2984,   3624,   4264,   4968,   5544,   5992,   6712,   7224,   7992,   8504,   9144,   9912,   10296,  11064,  11448,  12216,  12960,  13536,  14112,  14688,  15264,  15840,  16416,  16992,  17568,  18336,  19080,  19848,  19848,  20616,  21384,  22152,  22920,  22920,  23688,  24496,  25456,  25456,  26416,  26416,  27376,  28336,  28336,  29296,  29296,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592,  66592,  },
{616,    1256,   1864,   2536,   3112,   3752,   4392,   5160,   5736,   6200,   6968,   7480,   8248,   8760,   9528,   10296,  10680,  11448,  12216,  12576,  13536,  14112,  14688,  15264,  15840,  16416,  16992,  17568,  18336,  19080,  19848,  20616,  20616,  21384,  22152,  22920,  23688,  24496,  24496,  25456,  26416,  26416,  27376,  28336,  28336,  29296,  29296,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  },
{712,    1480,   2216,   2984,   3752,   4392,   5160,   5992,   6712,   7480,   8248,   8760,   9528,   10296,  11064,  11832,  12576,  13536,  14112,  14688,  15264,  16416,  16992,  17568,  18336,  19080,  19848,  20616,  21384,  22152,  22920,  23688,  24496,  25456,  25456,  26416,  27376,  28336,  29296,  29296,  30576,  30576,  31704,  32856,  32856,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  75376,  75376,  75376,  75376,  75376,  75376,  75376,  75376,  75376,  75376,  75376,  },
};

static const unsigned int TransportBlockSize2[LTE_TBS_INDEX_MAX][LTE_NRB_MAX]=
{
/*
 1       2       3       4       5       6       7       8       9       10      11      12      13      14      15      16      17      18      19      20      21      22      23      24      25      26      27      28      29      30      31      32      33      34      35      36      37      38      39      40      41      42      43      44      45      46      47      48      49      50      51      52      53      54      55      56      57      58      59      60      61      62      63      64      65      66      67      68      69      70      71      72      73      74      75      76      77      78      79      80      81      82      83      84      85      86      87      88      89      90      91      92      93      94      95      96      97      98      99      100     101     102     103     104     105     106     107     108     109     
*/
{32,     64,     112,    176,    240,    304,    352,    416,    448,    512,    576,    656,    688,    752,    784,    848,    912,    976,    1008,   1072,   1136,   1200,   1232,   1296,   1360,   1424,   1488,   1552,   1552,   1616,   1680,   1744,   1808,   1872,   1936,   2000,   2064,   2064,   2128,   2192,   2256,   2320,   2384,   2448,   2512,   2512,   2576,   2640,   2704,   2768,   2832,   2832,   2960,   2960,   3088,   3112,   3240,   3240,   3240,   3368,   3368,   3496,   3496,   3624,   3624,   3624,   3752,   3752,   3880,   3880,   4008,   4008,   4008,   4136,   4136,   4136,   4264,   4264,   4392,   4392,   4584,   4584,   4584,   4776,   4776,   4776,   4776,   4968,   4968,   5160,   5160,   5160,   5160,   5160,   5352,   5352,   5544,   5544,   5544,   5544,   5544,   5736,   5736,   5736,   5992,   5992,   5992,   5992,   5992,   6200   },
{48,     112,    176,    288,    352,    416,    448,    512,    656,    688,    752,    848,    912,    976,    1040,   1136,   1200,   1264,   1360,   1424,   1488,   1552,   1616,   1744,   1808,   1872,   1936,   2000,   2064,   2128,   2256,   2320,   2384,   2448,   2512,   2576,   2704,   2768,   2832,   2832,   2960,   3088,   3088,   3216,   3216,   3344,   3472,   3472,   3600,   3600,   3728,   3728,   3856,   3984,   3984,   4008,   4136,   4136,   4264,   4264,   4392,   4584,   4584,   4776,   4776,   4776,   4968,   4968,   5160,   5160,   5160,   5160,   5352,   5544,   5544,   5544,   5544,   5736,   5736,   5736,   5992,   5992,   5992,   6200,   6200,   6200,   6456,   6456,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7480,   7480,   7736,   7736,   7736,   7992,   7992,   7992   },
{64,     144,    288,    352,    416,    512,    592,    656,    752,    848,    944,    1040,   1136,   1232,   1296,   1392,   1488,   1552,   1680,   1744,   1872,   1936,   2000,   2128,   2192,   2320,   2384,   2512,   2576,   2640,   2768,   2832,   2960,   3088,   3088,   3216,   3344,   3344,   3472,   3600,   3600,   3728,   3856,   3984,   4048,   4176,   4176,   4304,   4432,   4432,   4560,   4688,   4688,   4816,   4944,   5160,   5160,   5160,   5352,   5352,   5544,   5544,   5736,   5736,   5736,   5992,   5992,   6200,   6200,   6200,   6456,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7736,   7736,   7736,   7992,   7992,   7992,   8248,   8248,   8248,   8504,   8504,   8504,   8760,   8760,   8760,   9144,   9144,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9912,   9912   },
{80,     208,    352,    416,    512,    656,    784,    880,    1008,   1136,   1232,   1360,   1488,   1616,   1744,   1808,   1936,   2064,   2192,   2320,   2448,   2512,   2640,   2768,   2832,   2960,   3088,   3216,   3344,   3472,   3600,   3728,   3856,   3984,   4048,   4176,   4304,   4432,   4560,   4688,   4816,   4944,   5072,   5072,   5200,   5328,   5456,   5584,   5712,   5712,   5968,   5968,   6224,   6224,   6480,   6456,   6712,   6712,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7736,   7736,   7992,   7992,   8248,   8248,   8504,   8504,   8760,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10680,  10680,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11448,  11448,  11832,  11832,  11832,  11832,  12576,  12576,  12576,  12576,  12960,  12960  },
{112,    240,    416,    512,    656,    816,    976,    1104,   1264,   1392,   1552,   1680,   1808,   2000,   2128,   2256,   2384,   2576,   2704,   2832,   2960,   3088,   3216,   3472,   3600,   3728,   3856,   3984,   4176,   4304,   4432,   4560,   4688,   4816,   4944,   5200,   5328,   5456,   5584,   5712,   5968,   5968,   6224,   6224,   6480,   6480,   6736,   6992,   6992,   7248,   7248,   7504,   7504,   7760,   8016,   7992,   8248,   8248,   8504,   8504,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10680,  10680,  11064,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832,  11832,  12576,  12576,  12576,  12960,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688,  14688,  14688,  14688,  14688,  14688,  15264,  15264,  15264,  15840  },
{144,    288,    448,    656,    848,    1008,   1200,   1360,   1552,   1744,   1936,   2064,   2256,   2448,   2640,   2768,   2960,   3088,   3344,   3472,   3728,   3856,   4048,   4176,   4432,   4560,   4688,   4944,   5072,   5328,   5456,   5584,   5712,   5968,   6224,   6224,   6480,   6736,   6992,   6992,   7248,   7504,   7504,   7760,   8016,   8016,   8272,   8528,   8784,   8784,   9168,   9168,   9552,   9552,   9552,   9912,   9912,   10296,  10296,  10680,  10680,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832,  12576,  12576,  12576,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  14688,  14688,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  17568,  17568,  17568,  17568,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19080  },
{176,    352,    512,    784,    1008,   1200,   1424,   1616,   1872,   2064,   2256,   2448,   2704,   2960,   3088,   3344,   3472,   3728,   3984,   4176,   4432,   4560,   4816,   4944,   5200,   5456,   5584,   5968,   5968,   6224,   6480,   6736,   6992,   6992,   7248,   7504,   7760,   8016,   8272,   8272,   8528,   8784,   9168,   9168,   9552,   9552,   9936,   9936,   10320,  10320,  10704,  10704,  11088,  11472,  11472,  11832,  11832,  11832,  12576,  12576,  12960,  12960,  12960,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  20616,  21384,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920  },
{208,    448,    656,    944,    1168,   1424,   1680,   1936,   2192,   2448,   2640,   2960,   3216,   3344,   3600,   3856,   4176,   4432,   4688,   4944,   5072,   5328,   5584,   5968,   6224,   6480,   6736,   6736,   6992,   7248,   7504,   7760,   8016,   8272,   8528,   8784,   9168,   9168,   9552,   9936,   9936,   10320,  10704,  10704,  11088,  11472,  11472,  11984,  11984,  12400,  12400,  12912,  12912,  13424,  13424,  13536,  14112,  14112,  14688,  14688,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  25456,  25456,  25456,  25456,  27376,  27376  },
{240,    512,    784,    1072,   1360,   1616,   1936,   2192,   2512,   2768,   3088,   3344,   3600,   3856,   4176,   4432,   4688,   5072,   5328,   5584,   5968,   6224,   6480,   6736,   6992,   7248,   7504,   7760,   8016,   8528,   8784,   9168,   9168,   9552,   9936,   9936,   10320,  10704,  11088,  11088,  11472,  11984,  11984,  12400,  12400,  12912,  12912,  13424,  13936,  13936,  14448,  14448,  14960,  14960,  15472,  15264,  15840,  15840,  16416,  16992,  16992,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  25456,  25456,  25456,  27376,  27376,  27376,  27376,  28336,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  30576  },
{272,    592,    912,    1232,   1552,   1872,   2192,   2512,   2832,   3088,   3472,   3728,   4048,   4432,   4688,   5072,   5328,   5712,   5968,   6224,   6736,   6992,   7248,   7504,   8016,   8272,   8528,   8784,   9168,   9552,   9936,   10320,  10320,  10704,  11088,  11472,  11472,  11984,  12400,  12400,  12912,  13424,  13424,  13936,  13936,  14448,  14960,  14960,  15472,  15984,  15984,  16496,  16496,  17008,  17520,  17568,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  25456,  25456,  25456,  25456,  25456,  27376,  27376,  27376,  27376,  28336,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  32856,  34008,  34008,  34008,  34008,  35160  },
{288,    656,    1008,   1360,   1744,   2064,   2448,   2768,   3088,   3472,   3856,   4176,   4560,   4944,   5328,   5584,   5968,   6224,   6736,   6992,   7504,   7760,   8016,   8528,   8784,   9168,   9552,   9936,   10320,  10704,  11088,  11472,  11472,  11984,  12400,  12400,  12912,  13424,  13424,  13936,  14448,  14960,  14960,  15472,  15984,  15984,  16496,  17008,  17008,  17520,  18288,  18288,  18288,  19056,  19056,  19848,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  24496,  24496,  25456,  25456,  25456,  25456,  25456,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  36696,  36696,  37888,  37888,  37888,  37888  },
{352,    752,    1168,   1552,   2000,   2384,   2768,   3216,   3600,   4048,   4432,   4816,   5200,   5584,   5968,   6480,   6992,   7248,   7760,   8016,   8528,   8784,   9168,   9552,   9936,   10704,  11088,  11472,  11984,  11984,  12400,  12912,  13424,  13936,  13936,  14448,  14960,  15472,  15472,  15984,  16496,  17008,  17520,  17520,  18288,  18288,  19056,  19056,  19824,  19824,  20592,  21360,  21360,  22128,  22128,  22920,  22920,  23688,  23688,  24496,  24496,  25456,  25456,  25456,  25456,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  36696,  37888,  37888,  37888,  37888,  39232,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816  },
{416,    880,    1360,   1808,   2256,   2704,   3216,   3600,   4048,   4560,   4944,   5456,   5968,   6480,   6736,   7248,   7760,   8272,   8784,   9168,   9552,   9936,   10704,  11088,  11472,  11984,  12400,  12912,  13424,  13424,  13936,  14448,  14960,  15472,  15984,  16496,  17008,  17520,  17520,  18288,  19056,  19056,  19824,  19824,  20592,  21360,  21360,  22128,  22128,  22896,  23664,  23664,  24432,  24432,  25152,  25456,  25456,  25456,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  46888,  48936,  48936,  48936,  48936,  51024  },
{448,    976,    1488,   2000,   2512,   3088,   3600,   4048,   4560,   5072,   5712,   6224,   6736,   7248,   7760,   8272,   8784,   9168,   9936,   10320,  10704,  11472,  11984,  12400,  12912,  13424,  13936,  14448,  14960,  15472,  15984,  16496,  17008,  17520,  18288,  18288,  19056,  19824,  19824,  20592,  21360,  21360,  22128,  22896,  22896,  23664,  24432,  24432,  25152,  25920,  25920,  27072,  27072,  28224,  28224,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336  },
{512,    1104,   1680,   2256,   2832,   3472,   3984,   4560,   5200,   5712,   6224,   6992,   7504,   8016,   8528,   9168,   9936,   10320,  11088,  11472,  11984,  12400,  12912,  13936,  14448,  14960,  15472,  15984,  16496,  17008,  17520,  18288,  19056,  19824,  19824,  20592,  21360,  22128,  22128,  22896,  23664,  24432,  24432,  25152,  25920,  25920,  27072,  27072,  28224,  28224,  29376,  29376,  30528,  30528,  31680,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776  },
{560,    1200,   1808,   2448,   3088,   3600,   4304,   4944,   5456,   6224,   6736,   7248,   8016,   8528,   9168,   9936,   10320,  11088,  11472,  12400,  12912,  13424,  13936,  14448,  15472,  15984,  16496,  17008,  17520,  18288,  19056,  19824,  20592,  20592,  21360,  22128,  22896,  23664,  23664,  24432,  25152,  25920,  25920,  27072,  27072,  28224,  29376,  29376,  30528,  30528,  31680,  31680,  32832,  32832,  33984,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808  },
{656,    1264,   1936,   2576,   3216,   3856,   4560,   5200,   5968,   6480,   7248,   7760,   8528,   9168,   9936,   10320,  11088,  11984,  12400,  12912,  13424,  14448,  14960,  15472,  15984,  17008,  17520,  18288,  19056,  19824,  19824,  20592,  21360,  22128,  22896,  23664,  24432,  24432,  25152,  25920,  27072,  27072,  28224,  28224,  29376,  29376,  30528,  31680,  31680,  32832,  32832,  33984,  33984,  35136,  35136,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  68808,  71112,  71112,  71112,  71112  },
{672,    1392,   2128,   2832,   3600,   4304,   5072,   5712,   6480,   7248,   8016,   8784,   9552,   10320,  10704,  11472,  12400,  12912,  13424,  14448,  14960,  15984,  16496,  17520,  18288,  19056,  19824,  20592,  20592,  21360,  22128,  22896,  23664,  24432,  25152,  25920,  27072,  27072,  28224,  29376,  29376,  30528,  30528,  31680,  32832,  32832,  33984,  35136,  35136,  36672,  36672,  38160,  38160,  39696,  39696,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  71112,  73712,  73712,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  78704,  78704  },
{752,    1552,   2320,   3088,   3984,   4688,   5584,   6224,   7248,   8016,   8784,   9552,   10320,  11088,  11984,  12400,  13424,  14448,  14960,  15984,  16496,  17520,  18288,  19056,  19824,  20592,  21360,  22128,  22896,  23664,  24432,  25152,  25920,  27072,  28224,  28224,  29376,  30528,  30528,  31680,  32832,  32832,  33984,  35136,  35136,  36672,  36672,  38160,  38160,  39696,  39696,  41232,  42768,  42768,  44304,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  81176,  84760,  84760,  84760,  84760,  87936,  87936  },
{816,    1680,   2576,   3472,   4304,   5200,   5968,   6992,   7760,   8528,   9552,   10320,  11088,  11984,  12912,  13936,  14448,  15472,  16496,  17008,  18288,  19056,  19824,  20592,  21360,  22128,  22896,  24432,  25152,  25920,  27072,  27072,  28224,  29376,  30528,  30528,  31680,  32832,  33984,  33984,  35136,  36672,  36672,  38160,  38160,  39696,  41232,  41232,  42768,  42768,  44304,  44304,  45840,  45840,  47376,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  93800  },
{880,    1808,   2768,   3728,   4688,   5584,   6480,   7504,   8272,   9168,   10320,  11088,  11984,  12912,  13936,  14960,  15984,  16496,  17520,  18288,  19824,  20592,  21360,  22128,  22896,  24432,  25152,  25920,  27072,  28224,  29376,  29376,  30528,  31680,  32832,  33984,  33984,  35136,  36672,  36672,  38160,  39696,  39696,  41232,  41232,  42768,  44304,  44304,  45840,  45840,  47376,  48992,  48992,  50912,  50912,  52752,  52752,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  93800,  97896,  97896,  97896,  97896,  97896,  101840, 101840, 101840 },
{976,    2000,   2960,   3984,   4944,   5968,   6992,   8016,   9168,   9936,   11088,  11984,  12912,  13936,  14960,  15984,  17008,  18288,  19056,  19824,  21360,  22128,  22896,  24432,  25152,  25920,  27072,  28224,  29376,  30528,  31680,  31680,  32832,  33984,  35136,  36672,  36672,  38160,  39696,  39696,  41232,  42768,  42768,  44304,  45840,  45840,  47376,  48992,  48992,  50912,  50912,  52832,  52832,  54752,  54752,  57336,  57336,  59256,  59256,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  93800,  97896,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 105528, 110136, 110136, 110136 },
{1040,   2128,   3216,   4304,   5328,   6480,   7504,   8528,   9552,   10704,  11984,  12912,  13936,  14960,  15984,  17008,  18288,  19056,  20592,  21360,  22896,  23664,  25152,  25920,  27072,  28224,  29376,  30528,  31680,  32832,  33984,  33984,  35136,  36672,  38160,  38160,  39696,  41232,  42768,  42768,  44304,  45840,  45840,  47376,  48992,  48992,  50912,  50912,  52832,  54752,  54752,  56672,  56672,  58592,  58592,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 119816, 119816, 119816 },
{1104,   2256,   3472,   4560,   5712,   6992,   8016,   9168,   10320,  11472,  12400,  13936,  14960,  15984,  17008,  18288,  19824,  20592,  22128,  22896,  24432,  25152,  25920,  27072,  28224,  29376,  30528,  31680,  32832,  33984,  35136,  36672,  38160,  39696,  39696,  41232,  42768,  44304,  44304,  45840,  47376,  48992,  48992,  50912,  50912,  52832,  54752,  54752,  56672,  56672,  58592,  58592,  61152,  61152,  63408,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 119816, 119816, 119816, 119816, 124464, 124464, 124464, 124464, 128496 },
{1168,   2384,   3600,   4816,   5968,   7248,   8528,   9936,   11088,  11984,  13424,  14448,  15984,  17008,  18288,  19824,  20592,  22128,  22896,  24432,  25920,  27072,  28224,  29376,  30528,  31680,  32832,  33984,  35136,  36672,  38160,  39696,  39696,  41232,  42768,  44304,  45840,  45840,  47376,  48992,  50912,  50912,  52832,  52832,  54752,  56672,  56672,  58592,  58592,  61152,  63408,  63408,  65712,  65712,  68016,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 119816, 119816, 119816, 124464, 124464, 124464, 124464, 128496, 128496, 128496, 128496, 133208, 133208, 133208, 133208 },
{1232,   2512,   3728,   5072,   6224,   7504,   8784,   10320,  11472,  12400,  13936,  14960,  16496,  17520,  19056,  20592,  21360,  22896,  24432,  25152,  27072,  28224,  29376,  30528,  31680,  32832,  33984,  35136,  36672,  38160,  39696,  41232,  41232,  42768,  44304,  45840,  47376,  48992,  48992,  50912,  52832,  52832,  54752,  56672,  56672,  58592,  58592,  61152,  63408,  63408,  65712,  65712,  68016,  68016,  70320,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040, 115040, 119816, 119816, 119816, 124464, 124464, 124464, 124464, 128496, 128496, 128496, 128496, 133208, 133208, 133208, 133208, 137792, 137792, 137792, 142248 },
{1424,   2960,   4432,   5968,   7504,   8784,   10320,  11984,  13424,  14960,  16496,  17520,  19056,  20592,  22128,  23664,  25152,  27072,  28224,  29376,  30528,  32832,  33984,  35136,  36672,  38160,  39696,  41232,  42768,  44304,  45840,  47376,  48992,  50912,  50912,  52832,  54752,  56672,  58592,  58592,  61152,  61152,  63408,  65712,  65712,  68016,  70320,  70320,  73392,  73392,  75776,  75776,  78464,  81152,  81152,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040, 115040, 119816, 119816, 119816, 124464, 124464, 124464, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 149776, 149776, 149776, 149776, 149776, 149776, 149776, 149776, 149776, 149776, 149776 }
};
static const unsigned int TransportBlockSize3[LTE_TBS_INDEX_MAX][LTE_NRB_MAX]=
{
/*
 1       2       3       4       5       6       7       8       9       10      11      12      13      14      15      16      17      18      19      20      21      22      23      24      25      26      27      28      29      30      31      32      33      34      35      36      37      38      39      40      41      42      43      44      45      46      47      48      49      50      51      52      53      54      55      56      57      58      59      60      61      62      63      64      65      66      67      68      69      70      71      72      73      74      75      76      77      78      79      80      81      82      83      84      85      86      87      88      89      90      91      92      93      94      95      96      97      98      99      100     101     102     103     104     105     106     107     108     109     
*/
{48,     96,     168,    264,    360,    456,    528,    624,    672,    768,    864,    984,    1032,   1128,   1176,   1272,   1368,   1464,   1512,   1608,   1704,   1800,   1848,   1944,   2040,   2136,   2232,   2328,   2328,   2424,   2520,   2616,   2712,   2808,   2904,   3000,   3112,   3112,   3240,   3240,   3368,   3496,   3624,   3624,   3752,   3752,   3880,   4008,   4008,   4136,   4264,   4264,   4392,   4392,   4584,   4584,   4776,   4776,   4776,   4968,   4968,   5160,   5160,   5352,   5352,   5352,   5544,   5544,   5736,   5736,   5992,   5992,   5992,   6200,   6200,   6200,   6456,   6456,   6712,   6712,   6712,   6712,   6712,   6968,   6968,   7224,   7224,   7480,   7480,   7480,   7480,   7480,   7736,   7736,   7992,   7992,   8248,   8248,   8248,   8248,   8248,   8504,   8504,   8504,   8760,   8760,   8760,   8760,   8760,   9144   },
{72,     168,    264,    432,    528,    624,    672,    768,    984,    1032,   1128,   1272,   1368,   1464,   1560,   1704,   1800,   1896,   2040,   2136,   2232,   2328,   2424,   2616,   2712,   2808,   2904,   3000,   3096,   3192,   3384,   3480,   3576,   3672,   3768,   3864,   4008,   4136,   4264,   4264,   4392,   4584,   4584,   4776,   4776,   4968,   5160,   5160,   5352,   5352,   5544,   5544,   5736,   5992,   5992,   5992,   6200,   6200,   6456,   6456,   6712,   6712,   6712,   6968,   6968,   7224,   7480,   7480,   7480,   7480,   7736,   7736,   7992,   8248,   8248,   8248,   8248,   8504,   8504,   8504,   8760,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10296,  10680,  10680,  10680,  11064,  11064,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832  },
{96,     216,    432,    528,    624,    768,    888,    984,    1128,   1272,   1416,   1560,   1704,   1848,   1944,   2088,   2232,   2328,   2520,   2616,   2808,   2904,   3000,   3192,   3288,   3480,   3576,   3768,   3864,   3960,   4152,   4248,   4440,   4632,   4632,   4824,   4968,   4968,   5160,   5352,   5352,   5544,   5736,   5992,   5992,   6200,   6200,   6456,   6712,   6712,   6712,   6968,   6968,   7224,   7480,   7480,   7480,   7736,   7992,   7992,   8248,   8248,   8504,   8504,   8504,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9912,   9912,   9912,   10296,  10296,  10296,  10680,  10680,  10680,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832,  12576,  12576,  12576,  12960,  12960,  12960,  12960,  12960,  12960,  13536,  13536,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688  },
{120,    312,    528,    624,    768,    984,    1176,   1320,   1512,   1704,   1848,   2040,   2232,   2424,   2616,   2712,   2904,   3096,   3288,   3480,   3672,   3768,   3960,   4152,   4248,   4440,   4632,   4824,   5016,   5208,   5400,   5592,   5784,   5976,   6072,   6264,   6456,   6712,   6712,   6968,   7224,   7480,   7480,   7480,   7736,   7992,   8248,   8248,   8504,   8504,   8760,   8760,   9144,   9144,   9528,   9528,   9912,   9912,   10296,  10296,  10680,  10680,  10680,  11064,  11064,  11448,  11448,  11832,  11832,  12576,  12576,  12960,  12960,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  16992,  16992,  18336,  18336,  18336,  18336,  18336,  18336,  18336,  18336,  19080,  19080  },
{168,    360,    624,    768,    984,    1224,   1464,   1656,   1896,   2088,   2328,   2520,   2712,   3000,   3192,   3384,   3576,   3864,   4056,   4248,   4440,   4632,   4824,   5208,   5400,   5592,   5784,   5976,   6264,   6456,   6648,   6840,   7032,   7224,   7416,   7800,   7992,   8248,   8248,   8504,   8760,   8760,   9144,   9144,   9528,   9528,   9912,   10296,  10296,  10680,  10680,  11064,  11064,  11448,  11832,  11832,  12576,  12576,  12960,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  16992,  18336,  18336,  18336,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  20616,  21384,  21384,  21384,  22152,  22152,  22152,  22152,  22920,  22920,  22920,  23688  },
{216,    432,    672,    984,    1272,   1512,   1800,   2040,   2328,   2616,   2904,   3096,   3384,   3672,   3960,   4152,   4440,   4632,   5016,   5208,   5592,   5784,   6072,   6264,   6648,   6840,   7032,   7416,   7608,   7992,   8184,   8376,   8568,   8952,   9336,   9336,   9528,   9912,   10296,  10296,  10680,  11064,  11064,  11448,  11832,  11832,  12576,  12960,  12960,  12960,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  16992,  18336,  18336,  18336,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  26416,  27376,  27376,  27376,  27376,  28336,  28336,  28336,  28336,  28336  },
{264,    528,    768,    1176,   1512,   1800,   2136,   2424,   2808,   3096,   3384,   3672,   4056,   4440,   4632,   5016,   5208,   5592,   5976,   6264,   6648,   6840,   7224,   7416,   7800,   8184,   8376,   8952,   8952,   9336,   9720,   10104,  10488,  10488,  10872,  11256,  11448,  11832,  12576,  12576,  12960,  12960,  13536,  13536,  14112,  14112,  14688,  14688,  15264,  15264,  15840,  15840,  16416,  16992,  16992,  18336,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  27376,  28336,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  30576,  31704,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008  },
{312,    672,    984,    1416,   1752,   2136,   2520,   2904,   3288,   3672,   3960,   4440,   4824,   5016,   5400,   5784,   6264,   6648,   7032,   7416,   7608,   7992,   8376,   8952,   9336,   9720,   10104,  10104,  10488,  10872,  11256,  11640,  12024,  12408,  12792,  13176,  13536,  13536,  14112,  14688,  14688,  15264,  15840,  15840,  16416,  16992,  16992,  18336,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  23688,  23688,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  39232,  40576,  40576  },
{360,    768,    1176,   1608,   2040,   2424,   2904,   3288,   3768,   4152,   4632,   5016,   5400,   5784,   6264,   6648,   7032,   7608,   7992,   8376,   8952,   9336,   9720,   10104,  10488,  10872,  11256,  11640,  12024,  12792,  13176,  13752,  13752,  14328,  14904,  14904,  15264,  15840,  16416,  16416,  16992,  18336,  18336,  18336,  18336,  19080,  19080,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  23688,  23688,  24496,  25456,  25456,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  28336,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816,  43816,  45352,  45352,  45352,  45352  },
{408,    888,    1368,   1848,   2328,   2808,   3288,   3768,   4248,   4632,   5208,   5592,   6072,   6648,   7032,   7608,   7992,   8568,   8952,   9336,   10104,  10488,  10872,  11256,  12024,  12408,  12792,  13176,  13752,  14328,  14904,  15480,  15480,  16056,  16632,  17208,  16992,  18336,  18336,  18336,  19080,  19848,  19848,  20616,  20616,  21384,  22152,  22152,  22920,  23688,  23688,  24496,  24496,  25456,  26416,  26416,  27376,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752  },
{432,    984,    1512,   2040,   2616,   3096,   3672,   4152,   4632,   5208,   5784,   6264,   6840,   7416,   7992,   8376,   8952,   9336,   10104,  10488,  11256,  11640,  12024,  12792,  13176,  13752,  14328,  14904,  15480,  16056,  16632,  17208,  17208,  17976,  18600,  18600,  19080,  19848,  19848,  20616,  21384,  22152,  22152,  22920,  23688,  23688,  24496,  25456,  25456,  26416,  27376,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336  },
{528,    1128,   1752,   2328,   3000,   3576,   4152,   4824,   5400,   6072,   6648,   7224,   7800,   8376,   8952,   9720,   10488,  10872,  11640,  12024,  12792,  13176,  13752,  14328,  14904,  16056,  16632,  17208,  17976,  17976,  18600,  19368,  20136,  20904,  20904,  21672,  22152,  22920,  22920,  23688,  24496,  25456,  26416,  26416,  27376,  27376,  28336,  28336,  29296,  29296,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592  },
{624,    1320,   2040,   2712,   3384,   4056,   4824,   5400,   6072,   6840,   7416,   8184,   8952,   9720,   10104,  10872,  11640,  12408,  13176,  13752,  14328,  14904,  16056,  16632,  17208,  17976,  18600,  19368,  20136,  20136,  20904,  21672,  22440,  23208,  23976,  24744,  25456,  26416,  26416,  27376,  28336,  28336,  29296,  29296,  30576,  31704,  31704,  32856,  32856,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  52752,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  71112,  73712,  73712,  73712,  73712,  76208  },
{672,    1464,   2232,   3000,   3768,   4632,   5400,   6072,   6840,   7608,   8568,   9336,   10104,  10872,  11640,  12408,  13176,  13752,  14904,  15480,  16056,  17208,  17976,  18600,  19368,  20136,  20904,  21672,  22440,  23208,  23976,  24744,  25512,  26280,  27432,  27432,  28336,  29296,  29296,  30576,  31704,  31704,  32856,  34008,  34008,  35160,  36696,  36696,  37888,  39232,  39232,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  51024,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  76208,  78704,  78704,  78704,  78704,  81176,  81176,  81176,  81176,  84760,  84760  },
{768,    1656,   2520,   3384,   4248,   5208,   5976,   6840,   7800,   8568,   9336,   10488,  11256,  12024,  12792,  13752,  14904,  15480,  16632,  17208,  17976,  18600,  19368,  20904,  21672,  22440,  23208,  23976,  24744,  25512,  26280,  27432,  28584,  29736,  29736,  30888,  31704,  32856,  32856,  34008,  35160,  36696,  36696,  37888,  39232,  39232,  40576,  40576,  42368,  42368,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  84760,  87936,  87936,  87936,  87936,  90816,  90816,  90816,  90816,  93800,  93800  },
{840,    1800,   2712,   3672,   4632,   5400,   6456,   7416,   8184,   9336,   10104,  10872,  12024,  12792,  13752,  14904,  15480,  16632,  17208,  18600,  19368,  20136,  20904,  21672,  23208,  23976,  24744,  25512,  26280,  27432,  28584,  29736,  30888,  30888,  32040,  33192,  34008,  35160,  35160,  36696,  37888,  39232,  39232,  40576,  40576,  42368,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  52752,  52752,  55056,  55056,  55056,  57336,  57336,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  87936,  90816,  90816,  90816,  90816,  93800,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840 },
{984,    1896,   2904,   3864,   4824,   5784,   6840,   7800,   8952,   9720,   10872,  11640,  12792,  13752,  14904,  15480,  16632,  17976,  18600,  19368,  20136,  21672,  22440,  23208,  23976,  25512,  26280,  27432,  28584,  29736,  29736,  30888,  32040,  33192,  34344,  35496,  36696,  36696,  37888,  39232,  40576,  40576,  42368,  42368,  43816,  43816,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  52752,  52752,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  90816,  93800,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 105528 },
{1008,   2088,   3192,   4248,   5400,   6456,   7608,   8568,   9720,   10872,  12024,  13176,  14328,  15480,  16056,  17208,  18600,  19368,  20136,  21672,  22440,  23976,  24744,  26280,  27432,  28584,  29736,  30888,  30888,  32040,  33192,  34344,  35496,  36648,  37728,  38880,  40576,  40576,  42368,  43816,  43816,  45352,  45352,  46888,  48936,  48936,  51024,  52752,  52752,  55056,  55056,  57336,  57336,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040, 115040, 119816, 119816, 119816, 119816 },
{1128,   2328,   3480,   4632,   5976,   7032,   8376,   9336,   10872,  12024,  13176,  14328,  15480,  16632,  17976,  18600,  20136,  21672,  22440,  23976,  24744,  26280,  27432,  28584,  29736,  30888,  32040,  33192,  34344,  35496,  36648,  37728,  38880,  40608,  42336,  42336,  43816,  45352,  45352,  46888,  48936,  48936,  51024,  52752,  52752,  55056,  55056,  57336,  57336,  59256,  59256,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 128496, 133208, 133208 },
{1224,   2520,   3864,   5208,   6456,   7800,   8952,   10488,  11640,  12792,  14328,  15480,  16632,  17976,  19368,  20904,  21672,  23208,  24744,  25512,  27432,  28584,  29736,  30888,  32040,  33192,  34344,  36648,  37728,  38880,  40608,  40608,  42336,  44064,  45792,  45792,  46888,  48936,  51024,  51024,  52752,  55056,  55056,  57336,  57336,  59256,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 133208, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 142248 },
{1320,   2712,   4152,   5592,   7032,   8376,   9720,   11256,  12408,  13752,  15480,  16632,  17976,  19368,  20904,  22440,  23976,  24744,  26280,  27432,  29736,  30888,  32040,  33192,  34344,  36648,  37728,  38880,  40608,  42336,  44064,  44064,  45792,  47520,  49248,  50976,  51024,  52752,  55056,  55056,  57336,  59256,  59256,  61664,  61664,  63776,  66592,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 142248, 146856, 146856, 146856, 146856, 146856, 152976, 152976, 152976 },
{1464,   3000,   4440,   5976,   7416,   8952,   10488,  12024,  13752,  14904,  16632,  17976,  19368,  20904,  22440,  23976,  25512,  27432,  28584,  29736,  32040,  33192,  34344,  36648,  37728,  38880,  40608,  42336,  44064,  45792,  47520,  47520,  49248,  50976,  52704,  55008,  55056,  57336,  59256,  59256,  61664,  63776,  63776,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 142248, 146856, 146856, 146856, 146856, 152976, 152976, 152976, 152976, 157432, 157432, 157432, 157432, 165216, 165216, 165216 },
{1560,   3192,   4824,   6456,   7992,   9720,   11256,  12792,  14328,  16056,  17976,  19368,  20904,  22440,  23976,  25512,  27432,  28584,  30888,  32040,  34344,  35496,  37728,  38880,  40608,  42336,  44064,  45792,  47520,  49248,  50976,  50976,  52704,  55008,  57240,  57240,  59256,  61664,  63776,  63776,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  76208,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 146856, 152976, 152976, 152976, 152976, 157432, 157432, 157432, 165216, 165216, 165216, 165216, 171888, 171888, 171888, 171888, 177816, 177816, 177816 },
{1656,   3384,   5208,   6840,   8568,   10488,  12024,  13752,  15480,  17208,  18600,  20904,  22440,  23976,  25512,  27432,  29736,  30888,  33192,  34344,  36648,  37728,  38880,  40608,  42336,  44064,  45792,  47520,  49248,  50976,  52704,  55008,  57240,  59544,  59544,  61848,  63776,  66592,  66592,  68808,  71112,  73712,  73712,  76208,  76208,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 115040, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 152976, 152976, 152976, 152976, 157432, 157432, 157432, 165216, 165216, 165216, 165216, 171888, 171888, 171888, 171888, 177816, 177816, 177816, 177816, 185728, 185728, 185728, 185728, 191720 },
{1752,   3576,   5400,   7224,   8952,   10872,  12792,  14904,  16632,  17976,  20136,  21672,  23976,  25512,  27432,  29736,  30888,  33192,  34344,  36648,  38880,  40608,  42336,  44064,  45792,  47520,  49248,  50976,  52704,  55008,  57240,  59544,  59544,  61848,  64152,  66456,  68808,  68808,  71112,  73712,  76208,  76208,  78704,  78704,  81176,  84760,  84760,  87936,  87936,  90816,  93800,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 128496, 128496, 128496, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 152976, 152976, 152976, 157432, 157432, 157432, 157432, 165216, 165216, 165216, 171888, 171888, 171888, 171888, 177816, 177816, 177816, 185728, 185728, 185728, 185728, 191720, 191720, 191720, 191720, 199824, 199824, 199824, 199824 },
{1848,   3768,   5592,   7608,   9336,   11256,  13176,  15480,  17208,  18600,  20904,  22440,  24744,  26280,  28584,  30888,  32040,  34344,  36648,  37728,  40608,  42336,  44064,  45792,  47520,  49248,  50976,  52704,  55008,  57240,  59544,  61848,  61848,  64152,  66456,  68760,  71112,  73712,  73712,  76208,  78704,  78704,  81176,  84760,  84760,  87936,  87936,  90816,  93800,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 119816, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 152976, 152976, 152976, 157432, 157432, 157432, 165216, 165216, 165216, 165216, 171888, 171888, 171888, 177816, 177816, 177816, 185728, 185728, 185728, 185728, 191720, 191720, 191720, 191720, 199824, 199824, 199824, 199824, 205880, 205880, 205880, 214176 },
{2136,   4440,   6648,   8952,   11256,  13176,  15480,  17976,  20136,  22440,  24744,  26280,  28584,  30888,  33192,  35496,  37728,  40608,  42336,  44064,  45792,  49248,  50976,  52704,  55008,  57240,  59544,  61848,  64152,  66456,  68760,  71064,  73488,  76368,  76368,  79248,  81176,  84760,  87936,  87936,  90816,  90816,  93800,  97896,  97896,  101840, 105528, 105528, 110136, 110136, 115040, 115040, 119816, 119816, 119816, 119816, 128496, 128496, 133208, 133208, 137792, 137792, 142248, 142248, 146856, 146856, 146856, 152976, 152976, 157432, 157432, 157432, 165216, 165216, 165216, 165216, 171888, 171888, 171888, 177816, 177816, 177816, 185728, 185728, 185728, 191720, 191720, 191720, 199824, 199824, 199824, 205880, 205880, 205880, 214176, 214176, 214176, 221680, 221680, 226416, 226416, 226416, 226416, 226416, 226416, 226416, 226416, 226416, 226416, 226416 }
};

static const unsigned int TransportBlockSize4[LTE_TBS_INDEX_MAX][LTE_NRB_MAX]=
{
/*
 1       2       3       4       5       6       7       8       9       10      11      12      13      14      15      16      17      18      19      20      21      22      23      24      25      26      27      28      29      30      31      32      33      34      35      36      37      38      39      40      41      42      43      44      45      46      47      48      49      50      51      52      53      54      55      56      57      58      59      60      61      62      63      64      65      66      67      68      69      70      71      72      73      74      75      76      77      78      79      80      81      82      83      84      85      86      87      88      89      90      91      92      93      94      95      96      97      98      99      100     101     102     103     104     105     106     107     108     109     
*/
{64,     128,    224,    352,    480,    608,    704,    832,    896,    1024,   1152,   1312,   1376,   1504,   1568,   1696,   1824,   1952,   2016,   2144,   2272,   2400,   2464,   2592,   2720,   2848,   2976,   3112,   3112,   3240,   3368,   3496,   3624,   3752,   3880,   4008,   4136,   4136,   4264,   4392,   4584,   4584,   4776,   4968,   4968,   4968,   5160,   5352,   5352,   5544,   5736,   5736,   5992,   5992,   6200,   6200,   6456,   6456,   6456,   6712,   6712,   6968,   6968,   7224,   7224,   7224,   7480,   7480,   7736,   7736,   7992,   7992,   7992,   8248,   8248,   8248,   8504,   8504,   8760,   8760,   9144,   9144,   9144,   9528,   9528,   9528,   9528,   9912,   9912,   10296,  10296,  10296,  10296,  10296,  10680,  10680,  11064,  11064,  11064,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832,  11832,  11832,  12576  },
{96,     224,    352,    576,    704,    832,    896,    1024,   1312,   1376,   1504,   1696,   1824,   1952,   2080,   2272,   2400,   2528,   2720,   2848,   2976,   3104,   3232,   3488,   3616,   3744,   3872,   4008,   4136,   4264,   4584,   4584,   4776,   4968,   4968,   5160,   5352,   5544,   5736,   5736,   5992,   6200,   6200,   6456,   6456,   6712,   6968,   6968,   7224,   7224,   7480,   7480,   7736,   7992,   7992,   7992,   8248,   8248,   8504,   8504,   8760,   9144,   9144,   9528,   9528,   9528,   9912,   9912,   10296,  10296,  10296,  10296,  10680,  11064,  11064,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  11832,  12576,  12576,  12576,  12960,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15264,  15264,  15264,  15264,  15840,  15840,  15840  },
{128,    288,    576,    704,    832,    1024,   1184,   1312,   1504,   1696,   1888,   2080,   2272,   2464,   2592,   2784,   2976,   3104,   3360,   3488,   3744,   3872,   4000,   4256,   4384,   4640,   4768,   4968,   5160,   5352,   5544,   5736,   5992,   6200,   6200,   6456,   6712,   6712,   6968,   7224,   7224,   7480,   7736,   7992,   7992,   8248,   8248,   8504,   8760,   8760,   9144,   9528,   9528,   9528,   9912,   10296,  10296,  10296,  10680,  10680,  11064,  11064,  11448,  11448,  11448,  11832,  11832,  12576,  12576,  12576,  12960,  12960,  12960,  13536,  13536,  13536,  14112,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15264,  15264,  15840,  15840,  15840,  16416,  16416,  16416,  16992,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848  },
{160,    416,    704,    832,    1024,   1312,   1568,   1760,   2016,   2272,   2464,   2720,   2976,   3232,   3488,   3616,   3872,   4128,   4384,   4640,   4896,   5024,   5280,   5536,   5664,   5920,   6176,   6456,   6712,   6968,   7224,   7480,   7736,   7992,   7992,   8248,   8504,   8760,   9144,   9528,   9528,   9912,   10296,  10296,  10296,  10680,  11064,  11064,  11448,  11448,  11832,  11832,  12576,  12576,  12960,  12960,  13536,  13536,  14112,  14112,  14688,  14688,  14688,  15264,  15264,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  22920,  23688,  23688,  23688,  23688,  24496,  24496,  24496,  24496,  25456,  25456  },
{224,    480,    832,    1024,   1312,   1632,   1952,   2208,   2528,   2784,   3104,   3360,   3616,   4000,   4256,   4512,   4768,   5152,   5408,   5664,   5920,   6176,   6432,   6944,   7200,   7456,   7712,   7992,   8248,   8504,   8760,   9144,   9528,   9528,   9912,   10296,  10680,  11064,  11064,  11448,  11832,  11832,  12576,  12576,  12960,  12960,  13536,  14112,  14112,  14688,  14688,  15264,  15264,  15264,  15840,  15840,  16416,  16416,  16992,  16992,  17568,  17568,  18336,  18336,  18336,  19080,  19080,  19848,  19848,  19848,  20616,  20616,  20616,  21384,  21384,  22152,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  25456,  25456,  26416,  26416,  26416,  28336,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  31704  },
{288,    576,    896,    1312,   1696,   2016,   2400,   2720,   3104,   3488,   3872,   4128,   4512,   4896,   5280,   5536,   5920,   6176,   6688,   6944,   7456,   7712,   8096,   8352,   8864,   9120,   9376,   9912,   10296,  10680,  11064,  11064,  11448,  11832,  12576,  12576,  12960,  13536,  14112,  14112,  14688,  15264,  15264,  15264,  15840,  15840,  16416,  16992,  17568,  17568,  18336,  18336,  19080,  19080,  19080,  19848,  19848,  20616,  20616,  21384,  21384,  22152,  22152,  22920,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  35160,  36696,  36696,  36696,  36696,  37888,  37888,  37888,  37888,  37888  },
{352,    704,    1024,   1568,   2016,   2400,   2848,   3232,   3744,   4128,   4512,   4896,   5408,   5920,   6176,   6688,   6944,   7456,   7968,   8352,   8864,   9120,   9632,   9888,   10400,  10912,  11168,  11832,  11832,  12576,  12960,  13536,  14112,  14112,  14688,  15264,  15264,  15840,  16416,  16416,  16992,  17568,  18336,  18336,  19080,  19080,  19848,  19848,  20616,  20616,  21384,  21384,  22152,  22920,  22920,  23688,  23688,  23688,  24496,  24496,  25456,  25456,  25456,  26416,  26416,  28336,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  30576,  31704,  31704,  32856,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  36696,  37888,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  40576,  42368,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352  },
{416,    896,    1312,   1888,   2336,   2848,   3360,   3872,   4384,   4896,   5280,   5920,   6432,   6688,   7200,   7712,   8352,   8864,   9376,   9888,   10144,  10656,  11168,  11936,  12448,  12960,  13472,  13536,  14112,  14688,  15264,  15264,  15840,  16416,  16992,  17568,  18336,  18336,  19080,  19848,  19848,  20616,  21384,  21384,  22152,  22920,  22920,  23688,  23688,  24496,  24496,  25456,  25456,  26416,  26416,  26416,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  32856,  34008,  34008,  35160,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  51024,  51024,  51024,  55056,  55056  },
{480,    1024,   1568,   2144,   2720,   3232,   3872,   4384,   5024,   5536,   6176,   6688,   7200,   7712,   8352,   8864,   9376,   10144,  10656,  11168,  11936,  12448,  12960,  13472,  13984,  14496,  15008,  15264,  15840,  16992,  17568,  18336,  18336,  19080,  19848,  19848,  20616,  21384,  22152,  22152,  22920,  23688,  23688,  24496,  24496,  25456,  25456,  26416,  28336,  28336,  29296,  29296,  29296,  29296,  30576,  30576,  31704,  31704,  32856,  34008,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  37888,  39232,  39232,  39232,  40576,  40576,  42368,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  48936,  48936,  48936,  51024,  51024,  51024,  51024,  51024,  51024,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  61664  },
{544,    1184,   1824,   2464,   3104,   3744,   4384,   5024,   5664,   6176,   6944,   7456,   8096,   8864,   9376,   10144,  10656,  11424,  11936,  12448,  13472,  13984,  14496,  15008,  16032,  16544,  17056,  17568,  18336,  19080,  19848,  20616,  20616,  21384,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  26416,  26416,  28336,  28336,  29296,  29296,  29296,  30576,  31704,  31704,  32856,  32856,  34008,  35160,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  40576,  42368,  42368,  43816,  43816,  43816,  45352,  45352,  46888,  46888,  46888,  48936,  48936,  51024,  51024,  51024,  51024,  51024,  55056,  55056,  55056,  55056,  57336,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  66592,  68808,  68808,  68808,  68808,  71112  },
{576,    1312,   2016,   2720,   3488,   4128,   4896,   5536,   6176,   6944,   7712,   8352,   9120,   9888,   10656,  11168,  11936,  12448,  13472,  13984,  15008,  15520,  16032,  17056,  17568,  18336,  19104,  19848,  20616,  21384,  22152,  22920,  22920,  23688,  24496,  24496,  25456,  26416,  26416,  28336,  29296,  29296,  29296,  30576,  31704,  31704,  32856,  34008,  34008,  35160,  36696,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  40576,  42368,  42368,  43816,  43816,  45352,  45352,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  51024,  51024,  51024,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  73712,  73712,  76208,  76208,  76208,  76208  },
{704,    1504,   2336,   3104,   4000,   4768,   5536,   6432,   7200,   8096,   8864,   9632,   10400,  11168,  11936,  12960,  13984,  14496,  15520,  16032,  17056,  17568,  18336,  19104,  19872,  21408,  22176,  22920,  23688,  23688,  24496,  25456,  26416,  28336,  28336,  29296,  29296,  30576,  30576,  31704,  32856,  34008,  35160,  35160,  36696,  36696,  37888,  37888,  39232,  39232,  40576,  42368,  42368,  43816,  43816,  45352,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  51024,  51024,  55056,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  63776,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  73712,  76208,  76208,  76208,  76208,  78704,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  84760,  87936,  87936,  87936  },
{832,    1760,   2720,   3616,   4512,   5408,   6432,   7200,   8096,   9120,   9888,   10912,  11936,  12960,  13472,  14496,  15520,  16544,  17568,  18336,  19104,  19872,  21408,  22176,  22944,  23968,  24800,  25456,  26416,  26416,  28336,  29296,  29296,  30576,  31704,  32856,  34008,  35160,  35160,  36696,  37888,  37888,  39232,  39232,  40576,  42368,  42368,  43816,  43816,  45352,  46888,  46888,  48936,  48936,  51024,  51024,  51024,  51024,  55056,  55056,  57336,  57336,  57336,  59256,  59256,  61664,  61664,  61664,  63776,  63776,  66592,  66592,  66592,  68808,  68808,  71112,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  93800,  97896,  97896,  97896,  97896,  101840 },
{896,    1952,   2976,   4000,   5024,   6176,   7200,   8096,   9120,   10144,  11424,  12448,  13472,  14496,  15520,  16544,  17568,  18336,  19872,  20640,  21408,  22944,  23968,  24800,  25824,  26848,  27872,  29296,  29296,  30576,  31704,  32856,  34008,  35160,  36696,  36696,  37888,  39232,  39232,  40576,  42368,  42368,  43816,  45352,  45352,  46888,  48936,  48936,  51024,  51024,  51024,  55056,  55056,  57336,  57336,  59256,  59256,  59256,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 105528, 110136, 110136, 110136, 110136, 115040, 115040 },
{1024,   2208,   3360,   4512,   5664,   6944,   7968,   9120,   10400,  11424,  12448,  13984,  15008,  16032,  17056,  18336,  19872,  20640,  22176,  22944,  23968,  24800,  25824,  27872,  28896,  29920,  30944,  31704,  32856,  34008,  35160,  36696,  37888,  39232,  39232,  40576,  42368,  43816,  43816,  45352,  46888,  48936,  48936,  51024,  51024,  51024,  55056,  55056,  57336,  57336,  59256,  59256,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 124464, 128496, 128496 },
{1120,   2400,   3616,   4896,   6176,   7200,   8608,   9888,   10912,  12448,  13472,  14496,  16032,  17056,  18336,  19872,  20640,  22176,  22944,  24800,  25824,  26848,  27872,  28896,  30944,  31968,  32992,  34008,  35160,  36696,  37888,  39232,  40576,  40576,  42368,  43816,  45352,  46888,  46888,  48936,  51024,  51024,  51024,  55056,  55056,  57336,  59256,  59256,  61664,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  93800,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 124464, 128496, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792 },
{1312,   2528,   3872,   5152,   6432,   7712,   9120,   10400,  11936,  12960,  14496,  15520,  17056,  18336,  19872,  20640,  22176,  23968,  24800,  25824,  26848,  28896,  29920,  30944,  31968,  34016,  35040,  36696,  37888,  39232,  39232,  40576,  42368,  43816,  45352,  46888,  48936,  48936,  51024,  51024,  55056,  55056,  57336,  57336,  59256,  59256,  61664,  63776,  63776,  66592,  66592,  68808,  68808,  71112,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 124464, 128496, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 137792, 142248, 142248, 142248, 142248 },
{1344,   2784,   4256,   5664,   7200,   8608,   10144,  11424,  12960,  14496,  16032,  17568,  19104,  20640,  21408,  22944,  24800,  25824,  26848,  28896,  29920,  31968,  32992,  35040,  36576,  38112,  39648,  40576,  40576,  42368,  43816,  45352,  46888,  48936,  51024,  51024,  55056,  55056,  57336,  59256,  59256,  61664,  61664,  63776,  66592,  66592,  68808,  71112,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  81176,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 105528, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 124464, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 142248, 146856, 146856, 146856, 146856, 151376, 151376, 151376, 157432, 157432, 157432, 157432 },
{1504,   3104,   4640,   6176,   7968,   9376,   11168,  12448,  14496,  16032,  17568,  19104,  20640,  22176,  23968,  24800,  26848,  28896,  29920,  31968,  32992,  35040,  36576,  38112,  39648,  41184,  42720,  43816,  45352,  46888,  48936,  51024,  51024,  55056,  57336,  57336,  59256,  61664,  61664,  63776,  66592,  66592,  68808,  71112,  71112,  73712,  73712,  76208,  76208,  78704,  78704,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  93800,  97896,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 128496, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 151376, 151376, 157432, 157432, 157432, 161760, 161760, 161760, 161760, 169544, 169544, 169544, 169544, 175600, 175600 },
{1632,   3360,   5152,   6944,   8608,   10400,  11936,  13984,  15520,  17056,  19104,  20640,  22176,  23968,  25824,  27872,  28896,  30944,  32992,  34016,  36576,  38112,  39648,  41184,  42720,  44256,  45792,  48936,  51024,  51024,  55056,  55056,  57336,  59256,  61664,  61664,  63776,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  76208,  78704,  81176,  81176,  84760,  84760,  87936,  87936,  90816,  90816,  93800,  97896,  97896,  101840, 101840, 101840, 105528, 105528, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 124464, 128496, 128496, 133208, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 151376, 157432, 157432, 157432, 161760, 161760, 161760, 161760, 169544, 169544, 169544, 175600, 175600, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 187712 },
{1760,   3616,   5536,   7456,   9376,   11168,  12960,  15008,  16544,  18336,  20640,  22176,  23968,  25824,  27872,  29920,  31968,  32992,  35040,  36576,  39648,  41184,  42720,  44256,  45792,  48864,  50304,  51024,  55056,  57336,  59256,  59256,  61664,  63776,  66592,  68808,  68808,  71112,  73712,  73712,  76208,  78704,  78704,  81176,  81176,  84760,  87936,  87936,  90816,  90816,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 115040, 115040, 115040, 115040, 115040, 124464, 124464, 128496, 128496, 128496, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 157432, 157432, 157432, 161760, 161760, 161760, 169544, 169544, 169544, 169544, 175600, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 187712, 195816, 195816, 195816, 195816, 195816, 203704, 203704, 203704 },
{1952,   4000,   5920,   7968,   9888,   11936,  13984,  16032,  18336,  19872,  22176,  23968,  25824,  27872,  29920,  31968,  34016,  36576,  38112,  39648,  42720,  44256,  45792,  48864,  50304,  51840,  54144,  57336,  59256,  61664,  63776,  63776,  66592,  68808,  71112,  73712,  73712,  76208,  78704,  78704,  81176,  84760,  84760,  87936,  90816,  90816,  93800,  97896,  97896,  101840, 101840, 105528, 105528, 110136, 110136, 115040, 115040, 115040, 115040, 124464, 124464, 128496, 128496, 128496, 133208, 133208, 137792, 137792, 142248, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 157432, 157432, 157432, 161760, 161760, 161760, 169544, 169544, 169544, 175600, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 187712, 195816, 195816, 195816, 195816, 203704, 203704, 203704, 203704, 211936, 211936, 211936, 211936, 220296, 220296, 220296 },
{2080,   4256,   6432,   8608,   10656,  12960,  15008,  17056,  19104,  21408,  23968,  25824,  27872,  29920,  31968,  34016,  36576,  38112,  41184,  42720,  45792,  47328,  50304,  51840,  54144,  56448,  58752,  61664,  63776,  66592,  68808,  68808,  71112,  73712,  76208,  76208,  78704,  81176,  84760,  84760,  87936,  90816,  90816,  93800,  97896,  97896,  101840, 101840, 105528, 110136, 110136, 115040, 115040, 115040, 115040, 124464, 124464, 128496, 128496, 133208, 133208, 137792, 137792, 137792, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 157432, 157432, 161760, 161760, 161760, 169544, 169544, 169544, 175600, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 195816, 195816, 195816, 195816, 203704, 203704, 203704, 203704, 211936, 211936, 211936, 220296, 220296, 220296, 220296, 230104, 230104, 230104, 230104, 236160, 236160, 236160 },
{2208,   4512,   6944,   9120,   11424,  13984,  16032,  18336,  20640,  22944,  24800,  27872,  29920,  31968,  34016,  36576,  39648,  41184,  44256,  45792,  48864,  50304,  51840,  54144,  56448,  58752,  61056,  63776,  66592,  68808,  71112,  73712,  76208,  78704,  78704,  81176,  84760,  87936,  87936,  90816,  93800,  97896,  97896,  101840, 101840, 105528, 110136, 110136, 115040, 115040, 115040, 115040, 124464, 124464, 128496, 128496, 133208, 133208, 137792, 137792, 142248, 142248, 146856, 146856, 151376, 151376, 151376, 157432, 157432, 161760, 161760, 161760, 169544, 169544, 175600, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 195816, 195816, 195816, 203704, 203704, 203704, 203704, 211936, 211936, 211936, 220296, 220296, 220296, 220296, 230104, 230104, 230104, 230104, 236160, 236160, 236160, 236160, 245648, 245648, 245648, 245648, 254328 },
{2336,   4768,   7200,   9632,   11936,  14496,  17056,  19872,  22176,  23968,  26848,  28896,  31968,  34016,  36576,  39648,  41184,  44256,  45792,  48864,  51840,  54144,  56448,  58752,  61056,  63360,  65664,  68808,  71112,  73712,  76208,  78704,  78704,  81176,  84760,  87936,  90816,  90816,  93800,  97896,  101840, 101840, 105528, 105528, 110136, 115040, 115040, 115040, 115040, 124464, 128496, 128496, 133208, 133208, 137792, 137792, 142248, 142248, 146856, 146856, 146856, 151376, 151376, 157432, 157432, 161760, 161760, 169544, 169544, 169544, 175600, 175600, 181656, 181656, 181656, 187712, 187712, 187712, 195816, 195816, 195816, 203704, 203704, 203704, 211936, 211936, 211936, 211936, 220296, 220296, 220296, 230104, 230104, 230104, 230104, 236160, 236160, 236160, 245648, 245648, 245648, 245648, 254328, 254328, 254328, 254328, 266440, 266440, 266440, 266440 },
{2464,   5024,   7456,   10144,  12448,  15008,  17568,  20640,  22944,  24800,  27872,  29920,  32992,  35040,  38112,  41184,  42720,  45792,  48864,  50304,  54144,  56448,  58752,  61056,  63360,  65664,  67968,  71112,  73712,  76208,  78704,  81176,  81176,  84760,  87936,  90816,  93800,  97896,  97896,  101840, 105528, 105528, 110136, 115040, 115040, 115040, 115040, 124464, 128496, 128496, 133208, 133208, 137792, 137792, 142248, 142248, 146856, 146856, 151376, 151376, 157432, 157432, 161760, 161760, 161760, 169544, 169544, 175600, 175600, 175600, 181656, 181656, 187712, 187712, 187712, 195816, 195816, 195816, 203704, 203704, 203704, 211936, 211936, 211936, 220296, 220296, 220296, 220296, 230104, 230104, 230104, 236160, 236160, 236160, 245648, 245648, 245648, 245648, 254328, 254328, 254328, 254328, 266440, 266440, 266440, 266440, 275376, 275376, 275376, 284608 },
{2848,   5920,   8864,   11936,  15008,  17568,  20640,  23968,  26848,  29920,  32992,  35040,  38112,  41184,  44256,  47328,  50304,  54144,  56448,  58752,  61056,  65664,  67968,  70272,  73344,  76320,  79392,  81176,  84760,  87936,  90816,  93800,  97896,  101840, 101840, 105528, 110136, 115040, 115040, 115040, 124464, 124464, 128496, 133208, 133208, 137792, 142248, 142248, 146856, 146856, 151376, 151376, 157432, 161760, 161760, 161760, 169544, 169544, 175600, 175600, 181656, 181656, 187712, 187712, 195816, 195816, 195816, 203704, 203704, 211936, 211936, 211936, 220296, 220296, 220296, 220296, 230104, 230104, 230104, 236160, 236160, 236160, 245648, 245648, 245648, 254328, 254328, 254328, 266440, 266440, 266440, 275376, 275376, 275376, 284608, 284608, 284608, 293736, 293736, 299856, 299856, 299856, 299856, 299856, 299856, 299856, 299856, 299856, 299856, 299856 }
};

typedef enum enumScheduling
{
	RoundRobin = 1,
	ProportionalFairScheduling,
	MaxCQI,
}LTE_MAC_SCHEDULING;


#define CQI_SNR_TABLE_LEN 15
#define TRANSMISSION_INDEX_MAX 5

/*---------------------------------------------
TRANSMISSION MODE INDEX 0 = 1 1 1  TRANSMISSION MODE =1 TX_ANTENNA = 1 RX_ANTENNA = 1
						1 = 2 2 2 
						2 = 3 2 2 
						3 = 3 4 2  TRANSMISSION MODE = 3 TX_ANTENNA = 4 RX_ANTENNA = 2
						4 = 5 * 2
1) Transmission Mode 1- Using of a single antenna at eNodeB
2) Transmission Mode 2- Transmit Diversity (TxD)
3) Transmission Mode 3- SU-MIMO Spatial Multiplexing: Open-Loop
4) Transmission Mode 5- MU-MIMO
------------------------------------------------ */

static const double CQI_SNR_TABLE [TRANSMISSION_INDEX_MAX][CQI_SNR_TABLE_LEN] =	{
	{1.95,4.00,6.00,8.00,10.00,11.95,14.05,16.00,17.9,19.9,21.5,23.45,25.00,27.3,29.00},
	{-7.00,-5.00,-3.15,-1.00,1.00,3.00,5.00,6.90,8.90,10.85,12.60,14.35,16.15,18.15,20.00},
	{-3.10,-1.15,1.5,4.0,6.0,8.9,12.7,14.9,17.5,20.5,22.45,23.2,24.9,27.0,29.10},
	{-4.8,-2.6,0,2.6,4.95,7.60,10.60,12.95,15.4,18.1,20.05,22.00,24.55,26.80,29.6},
	{-4.8,-2.6,0,2.6,4.95,7.60,10.60,12.95,15.4,18.1,20.05,22.00,24.55,26.80,29.6}
};

typedef struct stru_CQI_MCS
{
	unsigned int CQI_Index;
	unsigned int MCS_Index;
	PHY_MODULATION modulation;
}CQI_MCS;
static const CQI_MCS CQI_MCS_MAPPING[]={
	{1,	0,	Modulation_QPSK},
	{2, 0,	Modulation_QPSK},
	{3, 2,	Modulation_QPSK},
	{4, 5,	Modulation_QPSK},
	{5,	7,	Modulation_QPSK},
	{6,	9,	Modulation_QPSK},
	{7,	12,	Modulation_16_QAM},
	{8,	14,	Modulation_16_QAM},
	{9,	16, Modulation_16_QAM},
	{10,20,	Modulation_64_QAM},
	{11,23,	Modulation_64_QAM},
	{12,25,	Modulation_64_QAM},
	{13,27,	Modulation_64_QAM},
	{14,28,	Modulation_64_QAM},
	{15,28,	Modulation_64_QAM},
};
//Table 7.1.7.1-1

typedef struct stru_MCS_TBS
{
	unsigned int MCS_Index;
	unsigned int Modulation_Order;
	int TBS_Index;
}MCS_TBS;
static const MCS_TBS MCS_TBS_MAPPING[]={
	{0,	2,	0},
	{1,	2,	1},
	{2,	2,	2},
	{3,	2,	3},
	{4,	2,	4},
	{5,	2,	5},
	{6,	2,	6},
	{7,	2,	7},
	{8,	2,	8},
	{9,	2,	9},
	{10,4,	9},
	{11,4,	10},
	{12,4,	11},
	{13,4,	12},
	{14,4,	13},
	{15,4,	14},
	{16,4,	15},
	{17,6,	15},
	{18,6,	16},
	{19,6,	17},
	{20,6,	18},
	{21,6,	16},
	{22,6,	20},
	{23,6,	21},
	{24,6,	22},
	{25,6,	23},
	{26,6,	24},
	{27,6,	25},
	{28,6,	26},
	{29,2,	-1},//Reserved
	{30,4,	-1},//Reserved
	{31,6,	-1},//Reserved
};

	typedef enum enum_LTE_RRC_State
	{
		RRC_IDLE,
		RRC_CONNECTED,
	}LTE_RRC_STATE;

	typedef enum enum_LTE_LogicalChannel
	{
		LogicalChannel_BCCH,	//Broadcast control channel
		LogicalChannel_PCCH,	//Paging control channel
		LogicalChannel_CCCH,	//Common control channel
		LogicalChannel_DCCH,	//Dedicated control channel
		LogicalChannel_MCCH,	//Multi cast control channel
		LogicalChannel_DTCH,	//Dedicated traffic channel
		LogicalChannel_MTCH,	//Multi cast traffic channel
	}LTE_LOGICAL_CHANNEL;

	typedef enum enum_LTE_TransportChannel
	{
		//Down link
		TransportChannel_BCH,	//Broadcast channel
		TransportChannel_PCH,	//Paging channel
		TransportChannel_DLSCH,	//DL shared channel
		TransportChannel_MCH,	//Multi cast channel
		//Uplink
		TransportChannel_RACH,	//Random access channel
		TransportChannel_ULSCH,	//UL shared channel
	}LTE_TRANSPORT_CHANNEL;

	typedef enum enum_LTE_Physical_Channel
	{
		//Downlink
		PhysicalChannel_PBCH,	//Physical broadcast channel
		PhysicalChannel_PDSCH,	//Physical Downlink shared channel
		PhysicalChannel_PMCH,	//Physical Multicast channel
		PhysicalChannel_PDCCH,	//Physical Downlink control channel
		PhysicalChannel_PCFICH,	//Physical control format indicator channel
		//Uplink
		PhysicalChannel_PUSCH,	//Physical Uplink shared channel
		PhysicalChannel_PUCCH,	//Physical Uplink control channel
		PhysicalChannel_PRACH,	//Physical random access channel
	}LTE_PHYSICAL_CHANNEL;

	typedef enum enum_LTE_Packet
	{
		//RRC connection setup messages
		LTEPacket_RRC_CONNECTION_REQUEST=MAC_PROTOCOL_LTE*100+1,
		LTEPacket_RRC_CONNECTION_SETUP,
		LTEPacket_RRC_CONNECTION_SETUP_COMPLETE,
		LTEPacket_RRC_CONNECTION_REJECT,

		//RLC SDU
		LTEPacket_RLC_SDU,

		//Paging
		LTEPacket_Paging,

		//Handover
		LTEPacket_MeasurementReport,
		LTEPacket_HandoverRequest,
		LTEPacket_HandoverRequestAck,
		LTEPacket_PathSwitchRequest,
		LTEPacket_PathSwitchRequestAck,

		//Ack
		LTEPacket_ACK,
	}LTE_CONTROL_PACKET;

	struct stru_LTE_Metrics
	{
		unsigned int nPacketTransmitted;
		double dBytesTransmitted;
		unsigned int nPacketReceived;
		double dBytesReceived;
		unsigned int nHandoverCount;
	};
	static const int T300[]={100*MILLISECOND,200*MILLISECOND,300*MILLISECOND,400*MILLISECOND,600*MILLISECOND,1000*MILLISECOND,1500*MILLISECOND,2000*MILLISECOND};

	//ENB PHY
	struct stru_LTE_ENB_Phy
	{
		double dTXPower;
		double dAntennaHeight;
		double dAntennaGain;
		double dFrameDuration;
		double dSubFrameDuration;
		double dSlotDuration;
		double dSubCarrierSpacing;
		unsigned int nOFDMSymPerSlot;
		char* szDuplexScheme;
		char* szDLAccessScheme;
		char* szULAccessScheme;
		PHY_MODULATION Modulation;

		//Carrier Aggregation
		char* ca_type;
		char* ca_configuration;
		unsigned int ca_count;
		CA_PHY ca_phy[MAX_CA_COUNT];

		//MIMO
		unsigned int nTXAntennaCount;
		unsigned int nRXAntennaCount;
		unsigned int nTransmissionMode;
		unsigned int nSS;
	};
#define get_enb_phy(devId,ifId) (LTE_ENB_PHY*)DEVICE_PHYVAR(devId,ifId)
#define get_current_enb_phy() get_enb_phy(pstruEventDetails->nDeviceId,pstruEventDetails->nInterfaceId)


	//UE PHY
	struct stru_LTE_UE_Phy
	{
		double dTXPower;
		double dAntennaHeight;
		double dAntennaGain;
		unsigned int nTXAntennaCount;
		unsigned int nRXAntennaCount;
		unsigned int nTransmissionMode;
		
	};
#define get_ue_phy(devId,ifId) (LTE_UE_PHY*)DEVICE_PHYVAR(devId,ifId)
#define get_current_ue_phy() get_ue_phy(pstruEventDetails->nDeviceId,pstruEventDetails->nInterfaceId)


	//ENB MAC
	struct stru_LTE_ENB_MAC
	{
		unsigned int nAssociatedUECount;
		struct stru_LTE_AssociateUEInfo* associatedUEInfo;
		LTE_MAC_SCHEDULING sScheduling;
		LTE_METRICS metrics;
		
		unsigned int ca_count;
		CA_MAC ca_mac[MAX_CA_COUNT];
	};
#define get_enb_mac(devId,ifId) ((LTE_ENB_MAC*)DEVICE_MACVAR(devId,ifId))
#define get_current_enb_mac() get_enb_mac(pstruEventDetails->nDeviceId,pstruEventDetails->nInterfaceId)

	struct stru_LTE_RR_info
	{
		unsigned int RR_count;
	}RR_info;
	struct stru_LTE_UE_MAC
	{
		NETSIM_ID nENBId;
		NETSIM_ID nENBInterface;
		LTE_QUEUE* GBRQueue;
		LTE_QUEUE* nonGBRQueue;
		LTE_RRC_STATE rrcState;
		struct stru_RRC_VAR
		{
			unsigned int counter;
			unsigned long long int nEventId;
		}RRC_VAR;
		struct stru_PDCP_VAR
		{
			/**	The variable Next_PDCP_TX_SN indicates the PDCP SN of the next PDCP SDU for a given PDCP entity. 
			 *	At establishment of the PDCP entity, the UE shall set Next_PDCP_TX_SN to 0.
			 */
			unsigned int Next_PDCP_TX_SN;
		}PDCP_VAR;

		//HARQ
		NetSim_PACKET*** HARQBuffer;

		//CA
		int carrier_id;

		//MIMO
		unsigned int nSSId;

		bool isD2D;
		void* D2D;

		LTE_METRICS metrics;
	};

#define get_ue_mac(devId,ifId) ((LTE_UE_MAC*)DEVICE_MACVAR(devId,ifId))
#define get_current_ue_mac() get_ue_mac(pstruEventDetails->nDeviceId,pstruEventDetails->nInterfaceId)


	struct stru_TransmissionIndex
	{
		unsigned int UL;
		unsigned int DL;
	};

	struct stru_LTE_AssociateUEInfo
	{
		NETSIM_ID nUEId;
		NETSIM_ID nUEInterface;

		unsigned int connectedUECount;
		NETSIM_ID *connectedUEId;
		NETSIM_ID *connectedUEInterface;
		LTE_RRC_STATE rrcState;
		struct stru_TxInfo
		{
			double dReceivedPower;
			double dSNR;
			unsigned int nCQIIndex;
			PHY_MODULATION modulation;
			unsigned int MCSIndex;
			unsigned int TBSIndex;
			unsigned int Rank;
		}DLInfo[MAX_CA_COUNT],ULInfo[MAX_CA_COUNT];
		int carrier_id;
		struct stru_TransmissionIndex TransmissionIndex;
		unsigned int RR_count;
		//queue
		LTE_QUEUE* GBRQueue;
		LTE_QUEUE* nonGBRQueue;

		//HARQ
		NetSim_PACKET*** HARQBuffer;

		unsigned int nSSId;
		_ele* ele;
	};
#define UEINFO_ALLOC() (struct stru_LTE_AssociateUEInfo*)list_alloc(sizeof(struct stru_LTE_AssociateUEInfo),offsetof(struct stru_LTE_AssociateUEInfo,ele))
#define UEINFO_NEXT(info) info=(struct stru_LTE_AssociateUEInfo*)LIST_NEXT(info)

	struct stru_LTE_Queue
	{
		unsigned int nSize;
		NetSim_PACKET* head;
		NetSim_PACKET* tail;

		//UL scheduling Virtual resource block based
		unsigned int nRBStart;
		unsigned int nRBLength;
		unsigned int nBitcount;
		double dRatio;
		double dPrev_throughput;
	};
	struct stru_LTE_Mac_Packet
	{
		LTE_LOGICAL_CHANNEL logicalChannel;
		LTE_TRANSPORT_CHANNEL transportChannel;
		LTE_CONTROL_PACKET MessageType;
		void* MessageVar;
		LTE_PDCP_HEADER* pdcpHdr;
	};
	struct stru_LTE_Phy_Packet
	{
		LTE_PHYSICAL_CHANNEL physicalChannel;
		unsigned int carrier_index;
		unsigned int nSSId;
	};

	struct stru_LTE_MME_HLR
	{
		NETSIM_ID nUEId;
		NETSIM_ID nUEInterface;
		NETSIM_ID nENBId;
		NETSIM_ID nENBInterface;
		NETSIM_ID nMMEID;
		NETSIM_ID nMMEInterface;
		_ele* ele;
	};
#define HLR_ALLOC() (struct stru_LTE_MME_HLR*)list_alloc(sizeof(struct stru_LTE_MME_HLR),offsetof(struct stru_LTE_MME_HLR,ele))
	struct stru_LTE_MME
	{
		LTE_HLR* HLR;
	};
	struct stru_LTE_MeasurementReport
	{
		NETSIM_ID nUEId;
		NETSIM_ID nENBId;
		unsigned int carrier_count;
		double dSNR_DL[MAX_CA_COUNT];
		int nCQIIndex_DL[MAX_CA_COUNT];
		_ele* ele;
	};
#define MEASUREMENT_REPORT_ALLOC() (struct stru_LTE_MeasurementReport*)list_alloc(sizeof(struct stru_LTE_MeasurementReport),offsetof(struct stru_LTE_MeasurementReport,ele))

	struct stru_LTE_HOInfo
	{
		NETSIM_ID nUEId;
		NETSIM_ID nSourceENB;
		NETSIM_ID nTargetENB;
		LTE_ENB_MAC* sourceMac;
		LTE_ENB_MAC* targetMac;
		LTE_ASSOCIATEUE_INFO* info;
	};
	
	struct stru_LTE_ACK
	{
		unsigned int SN:10;	//sequence number
	};

	#include "NetSim_Plot.h"
	//Statistics
	bool nLTEPlotFlag;
	char* szLTEPlotVal;
	bool nLTEPlotRealTime;
	struct stru_GenericPlot** genericLTEPlot;
	bool* nLTEPlotFlagList;

	//Function prototype
	int fn_NetSim_LTE_Mobility(NETSIM_ID nDeviceId);
	NetSim_PACKET* fn_NetSim_LTE_CreateCtrlPacket(double dTime,
											  LTE_CONTROL_PACKET ctrlPacketType,
											  NETSIM_ID nDestinationId,
											  NETSIM_ID nSourceId,
											  NETSIM_ID nReceiverId,
											  double dSize);
	LTE_ASSOCIATEUE_INFO* fn_NetSim_LTE_FindInfo(LTE_ENB_MAC* enbMac,NETSIM_ID nDestinationId);
	int fn_NetSim_Init_PagingRequest(NETSIM_ID enbId,NETSIM_ID enbInterface,LTE_ASSOCIATEUE_INFO* info);
	int fn_NetSim_LTE_AddInQueue();
	int fn_NetSim_LTE_AssociateUE(NETSIM_ID UEId);
	int fn_NetSim_LTE_CalculateReceivedPower();
	int fn_NetSim_LTE_CalculateRxPower(NETSIM_ID enbId,NETSIM_ID enbInterface,LTE_ASSOCIATEUE_INFO* info,unsigned int carrier_index);
	int fn_NetSim_LTE_CalculateSNR(NETSIM_ID enbId,NETSIM_ID enbInterface,LTE_ASSOCIATEUE_INFO* info,unsigned int carrier_index);
	char*  fn_NetSim_LTE_ConfigPacketTrace_F();
	int fn_NetSim_LTE_Configure_F(void** var);
	int fn_NetSim_LTE_Finish_F();
	int fn_NetSim_LTE_Init_F();
	int fn_NetSim_LTE_Metrics_F(PMETRICSWRITER file);
	int fn_NetSim_LTE_FreePacket_F(NetSim_PACKET* packet);
	int fn_NetSim_LTE_CopyPacket_F(const NetSim_PACKET* destPacket,const NetSim_PACKET* srcPacket);
	int fn_NetSim_LTE_DecideHandover();
	int fn_NetSim_LTE_eNB_AddInQueue();
	int fn_NetSim_LTE_FormDownlinkFrame(NETSIM_ID enbId,NETSIM_ID enbInterface,unsigned int carrier_id,unsigned int nSSId);
	int fn_NetSim_LTE_FormHLR(NETSIM_ID UEId,NETSIM_ID ueInterface,NETSIM_ID enbId,NETSIM_ID enbInterface);
	int fn_NetSim_LTE_FormNextFrame();
	int fn_NetSim_LTE_FormRBG(NETSIM_ID enbId,NETSIM_ID enbInterface);
	int fn_NetSim_LTE_FormUPlinkFrame(NETSIM_ID enbId,NETSIM_ID enbInterface,unsigned int carrier_id,unsigned int nSSId);
	_declspec(dllexport) int fn_NetSim_LTE_FreePacket(NetSim_PACKET* packet);
	int fn_NetSim_LTE_GetCQIIndex(NETSIM_ID enbId,NETSIM_ID enbInterface,LTE_ASSOCIATEUE_INFO* info,unsigned int carrier_index);
	int fn_NetSim_LTE_InitQueue(NETSIM_ID nDeviceId,NETSIM_ID nInterfaceId);
	int fn_NetSim_LTE_GetMCS_TBS_Index(LTE_ASSOCIATEUE_INFO* info,unsigned int carrier_index);
	int fn_NetSim_LTE_InitHandover(NETSIM_ID ueId,NETSIM_ID nENBId);
	int fn_NetSim_LTE_InitRRCConnection();
	int fn_NetSim_LTE_MME_RouteHOPacket();
	int fn_NetSim_LTE_MME_RoutePacket();
	int fn_NetSim_LTE_PDCP_AddSN(NetSim_PACKET* packet);
	int fn_NetSim_LTE_SendAck(NetSim_PACKET* rlcSDU,NetSim_EVENTDETAILS* eventDetail);
	int fn_NetSim_LTE_PDCP_hdrUncompression(NetSim_PACKET* packet);
	int fn_NetSim_LTE_PDCP_RemoveHdr(NetSim_PACKET* packet);
	int fn_NetSim_LTE_ProcessHORequest();
	int fn_NetSim_LTE_ProcessHORequestAck();
	int fn_NetSim_LTE_RRC_ProcessRequest();
	int fn_NetSim_LTE_RRC_SetupComplete();
	int fn_NetSim_LTE_RLC_eNB_In();
	int fn_NetSim_LTE_ENB_ProcessAck();
	int fn_NetSim_LTE_RRC_ProcessSetup();
	int fn_NetSim_LTE_ProcessPage();
	int fn_NetSim_LTE_RLC_UE_In();
	int fn_NetSim_LTE_UE_ProcessAck();
	int fn_NetSim_LTE_DecideError(unsigned int carrier_index);
	int fn_NetSim_LTE_T300_Expire();
	int fn_NetSim_LTE_PDCP_init(NetSim_PACKET* packet);
	int fn_NetSim_LTE_PDCP_hdrCompression(NetSim_PACKET* packet);

	char* fn_NetSim_LTE_Trace_F(NETSIM_ID id);
	double fn_NetSim_LTE_CalculateBER(int type, int MCS, double dSNR);
	bool isPartofSameMME(NETSIM_ID src,NETSIM_ID dest);

	//RLC
	int fn_NetSim_LTE_RLC_FormRLCSDU(LTE_QUEUE* queue,NETSIM_ID nSourceId,NETSIM_ID nDestinationId,NetSim_PACKET*** HARQBuffer,unsigned int carrier_id,unsigned int nSSId);
	NetSim_PACKET* create_rlc_sdu(NetSim_PACKET* p,UINT carrier_id,UINT nSSId);

	//HARQ
	NetSim_PACKET*** alloc_HARQ();
	void free_HARQ(NetSim_PACKET*** p);
	int fn_NetSim_LTE_HARQ_RetransmitHARQBuffer_DL(LTE_ASSOCIATEUE_INFO* info,LTE_ENB_MAC* enbMac,NETSIM_ID enbId,unsigned int carrier_id);
	int fn_NetSim_LTE_AddToHARQBuffer(NetSim_PACKET*** HARQBuffer,NetSim_PACKET* packet,double dTime,unsigned int carrier_id);
	int fn_NetSim_LTE_HARQ_RetransmitHARQBuffer_UL(LTE_ASSOCIATEUE_INFO* info,LTE_ENB_MAC* enbMac,NETSIM_ID enbId,unsigned int carrier_id);

	//CA
	void fn_NetSim_LTE_A_ConfigCA(void** var);
	void fn_NetSim_LTE_A_FormNextFrameForEachCarrier(NETSIM_ID enbId,NETSIM_ID enbInterface,unsigned int nSSId);
	unsigned int get_carrier_index(NetSim_PACKET* packet);
	void set_carrier_index(NetSim_PACKET* packet,unsigned int carrier_id);

	//MIMO
	void fn_NetSim_LTE_Init_MIMO(NETSIM_ID enbId,NETSIM_ID enbInterface);
	unsigned int get_nSS_index(NetSim_PACKET* packet);
	void set_nSS_index(NetSim_PACKET* packet,unsigned int nSSId);
	int fn_NetSim_LTE_GetTransmissionIndex(LTE_ENB_PHY* enbPhy,LTE_UE_PHY* uePhy,LTE_ASSOCIATEUE_INFO* info);
	void fn_NetSim_LTE_A_AllocateSS(NETSIM_ID enbId,NETSIM_ID enbInterface);

	//RELAY
	#define get_UE_Interface(devid) ((NETSIM_ID)(DEVICE_TYPE(devid)==UE?1:(DEVICE_TYPE(devid)==RELAY?2:0)))
	#define get_eNB_Interface(devid) ((NETSIM_ID)(DEVICE_TYPE(devid)==eNB?1:(DEVICE_TYPE(devid)==RELAY?1:0)))
	NETSIM_ID get_rcv_interface_id(NetSim_PACKET* p);
	NETSIM_ID get_tx_interface_id(NetSim_PACKET* p);
	bool find_info_from_relay(NETSIM_ID relayId,NETSIM_ID destId);
	void fn_NetSim_LTE_InitRelay(NETSIM_ID relayId);
	int fn_NetSim_LTE_Relay_ForwardPacket(NetSim_PACKET* packet,NETSIM_ID relayId,NETSIM_ID relayInterface);

	//For D2D
	void d2d_init();
	void d2d_free();
	double get_received_power_between_ue(NETSIM_ID ue1,NETSIM_ID ue2,LTE_ENB_PHY* phy);
	double get_snr_between_ue(double power,LTE_ENB_PHY* phy);
	void fn_NetSim_D2D_UpdatePeers();
	void fn_NetSim_D2D_GetTransmissionInfo(NETSIM_ID ue_id,NETSIM_ID peer_id,
		UINT* MCSIndex,double* dSNR);
	int fn_NetSim_D2D_Transmit_UL(LTE_ASSOCIATEUE_INFO* info,LTE_ENB_MAC* enbMac,NETSIM_ID enbId,unsigned int carrier_id,UINT nSSId);
	void fn_NetSim_D2D_GetInfo_UL(NETSIM_ID ue_id,
		UINT carrier_id,
		NETSIM_ID enbId,
		NETSIM_ID enbInterface,
		LTE_ASSOCIATEUE_INFO* info,
		LTE_ASSOCIATEUE_INFO* newInfo,
		NETSIM_ID* peer_id);
	void fn_NetSim_D2D_GetInfo_DL(NETSIM_ID ue_id,
		UINT carrier_id,
		NETSIM_ID enbId,
		NETSIM_ID enbInterface,
		LTE_ASSOCIATEUE_INFO* info,
		LTE_ASSOCIATEUE_INFO* newInfo,
		NETSIM_ID* peer_id);

	//FemtoCell
	void femtocell_init();
	void femtocell_updateRBGCount();
	void femotocell_finish();


#ifdef  __cplusplus
}
#endif
#endif /* _NETSIM_LTE_H_ */
